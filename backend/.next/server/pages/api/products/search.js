"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/products/search";
exports.ids = ["pages/api/products/search"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Csearch.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Csearch.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_products_search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\products\\search.js */ \"(api-node)/./pages/api/products/search.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_products_search_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_products_search_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_search_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_products_search_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/products/search\",\n        pathname: \"/api/products/search\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_products_search_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcHJvZHVjdHMlMkZzZWFyY2gmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3Byb2R1Y3RzJTVDc2VhcmNoLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQzhEO0FBQzlEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywwREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsMERBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxccHJvZHVjdHNcXFxcc2VhcmNoLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9kdWN0cy9zZWFyY2hcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9kdWN0cy9zZWFyY2hcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Csearch.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/products/search.js":
/*!**************************************!*\
  !*** ./pages/api/products/search.js ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _src_services_amazonService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/services/amazonService */ \"(api-node)/./src/services/amazonService.js\");\n/* harmony import */ var _src_services_walmartService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/services/walmartService */ \"(api-node)/./src/services/walmartService.js\");\n/* harmony import */ var _src_services_ebayService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../src/services/ebayService */ \"(api-node)/./src/services/ebayService.js\");\n/* harmony import */ var _src_services_mockService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../src/services/mockService */ \"(api-node)/./src/services/mockService.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_services_amazonService__WEBPACK_IMPORTED_MODULE_0__, _src_services_walmartService__WEBPACK_IMPORTED_MODULE_1__, _src_services_ebayService__WEBPACK_IMPORTED_MODULE_2__]);\n([_src_services_amazonService__WEBPACK_IMPORTED_MODULE_0__, _src_services_walmartService__WEBPACK_IMPORTED_MODULE_1__, _src_services_ebayService__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// CORS middleware\nconst allowCors = (fn)=>async (req, res)=>{\n        // Set CORS headers - support common development origins\n        const origin = req.headers.origin || '*';\n        res.setHeader('Access-Control-Allow-Credentials', true);\n        res.setHeader('Access-Control-Allow-Origin', origin);\n        // Allow requests from localhost with any port\n        if (origin !== '*' && !origin.match(/^https?:\\/\\/localhost(:\\d+)?$/)) {\n            // If not localhost, set more specific origin\n            res.setHeader('Access-Control-Allow-Origin', 'http://localhost:5173');\n        }\n        res.setHeader('Access-Control-Allow-Methods', 'GET,OPTIONS,POST');\n        res.setHeader('Access-Control-Allow-Headers', 'X-CSRF-Token, X-Requested-With, Accept, Accept-Version, Content-Length, Content-MD5, Content-Type, Date, X-Api-Version, Origin');\n        // Handle preflight request\n        if (req.method === 'OPTIONS') {\n            res.status(200).end();\n            return;\n        }\n        // Call the original handler\n        return await fn(req, res);\n    };\n// Map the source names from services to the frontend's expected source names\nconst sourceNameMap = {\n    'amazon': 'GreenEarth',\n    'walmart': 'EcoLiving',\n    'ebay': 'EcoTech',\n    'mock': 'GreenEarth' // Default mock products to GreenEarth\n};\nasync function handler(req, res) {\n    if (req.method !== 'GET') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    try {\n        const { query: query1 } = req.query;\n        console.log('Search query received:', query1);\n        if (!query1) {\n            return res.status(400).json({\n                error: 'Search query is required'\n            });\n        }\n        // Fetch products from different services in parallel\n        console.log('Fetching products from services...');\n        const amazonPromise = _src_services_amazonService__WEBPACK_IMPORTED_MODULE_0__[\"default\"].searchProducts(query1).then((products)=>{\n            console.log(`Amazon results for \"${query1}\":`, products.length);\n            return products;\n        }).catch((err)=>{\n            console.error('Amazon service error:', err.message);\n            return [];\n        });\n        const walmartPromise = _src_services_walmartService__WEBPACK_IMPORTED_MODULE_1__[\"default\"].searchProducts(query1).then((products)=>{\n            console.log(`Walmart results for \"${query1}\":`, products.length);\n            return products;\n        }).catch((err)=>{\n            console.error('Walmart service error:', err.message);\n            return [];\n        });\n        const ebayPromise = _src_services_ebayService__WEBPACK_IMPORTED_MODULE_2__[\"default\"].searchProducts(query1).then((products)=>{\n            console.log(`eBay results for \"${query1}\":`, products.length);\n            return products;\n        }).catch((err)=>{\n            console.error('eBay service error:', err.message);\n            return [];\n        });\n        // Always add mock service for testing\n        const mockPromise = _src_services_mockService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].searchProducts(query1).then((products)=>{\n            console.log(`Mock results for \"${query1}\":`, products.length);\n            return products;\n        }).catch((err)=>{\n            console.error('Mock service error:', err.message);\n            // Return empty array instead of letting the error propagate\n            return [];\n        });\n        const [amazonProducts, walmartProducts, ebayProducts, mockProducts] = await Promise.all([\n            amazonPromise,\n            walmartPromise,\n            ebayPromise,\n            mockPromise\n        ]);\n        // Combine and format results with mapped source names\n        let allProducts = [\n            ...amazonProducts.map((p)=>({\n                    ...p,\n                    source: sourceNameMap['amazon']\n                })),\n            ...walmartProducts.map((p)=>({\n                    ...p,\n                    source: sourceNameMap['walmart']\n                })),\n            ...ebayProducts.map((p)=>({\n                    ...p,\n                    source: sourceNameMap['ebay']\n                }))\n        ];\n        // If we didn't get any real products, use mock data\n        if (allProducts.length === 0) {\n            console.log('No real products found, using mock data');\n            allProducts = mockProducts.map((p)=>({\n                    ...p,\n                    source: sourceNameMap['mock']\n                }));\n        }\n        console.log('Total products found:', allProducts.length);\n        res.status(200).json({\n            products: allProducts\n        });\n    } catch (error) {\n        console.error('Search error:', error);\n        // Even in case of error, try to return mock data\n        try {\n            // For bicycle searches, provide specific mock data\n            if (query && query.toLowerCase().includes('bicycle')) {\n                console.log('Using hardcoded bicycle data due to error');\n                return res.status(200).json({\n                    products: [\n                        {\n                            id: 'b1001',\n                            title: 'Bamboo Frame Bicycle',\n                            price: 699.99,\n                            imageUrl: 'https://m.media-amazon.com/images/I/71RDCpYR8EL._AC_SL1500_.jpg',\n                            description: 'Eco-friendly bicycle with bamboo frame, handcrafted using sustainable materials',\n                            sustainabilityLevel: 5,\n                            url: 'https://example.com/bamboo-bicycle',\n                            rating: 4.7,\n                            source: sourceNameMap['mock']\n                        },\n                        {\n                            id: 'b1002',\n                            title: 'Electric Commuter Bicycle',\n                            price: 1299.99,\n                            imageUrl: 'https://m.media-amazon.com/images/I/81CrFQZN-IL._AC_SL1500_.jpg',\n                            description: 'Energy-efficient e-bike with recycled aluminum frame and solar charging capability',\n                            sustainabilityLevel: 4,\n                            url: 'https://example.com/electric-bicycle',\n                            rating: 4.9,\n                            source: sourceNameMap['mock']\n                        }\n                    ],\n                    error: 'Used emergency fallback data due to search error'\n                });\n            }\n            const mockProducts = await _src_services_mockService__WEBPACK_IMPORTED_MODULE_3__[\"default\"].searchProducts(query);\n            return res.status(200).json({\n                products: mockProducts.map((p)=>({\n                        ...p,\n                        source: sourceNameMap['mock']\n                    })),\n                error: 'Used fallback data due to search error'\n            });\n        } catch (mockError) {\n            console.error('Mock fallback also failed:', mockError.message);\n            // If even that fails, return a 200 with empty results instead of a 500 error\n            return res.status(200).json({\n                products: [],\n                error: 'Failed to search for products, please try a different search term'\n            });\n        }\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (allowCors(handler));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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XFxhZG1pblxcSGFja2FidWxsV2ViXFxiYWNrZW5kXFxwYWdlc1xcYXBpXFxwcm9kdWN0c1xcc2VhcmNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhbWF6b25TZXJ2aWNlIGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy9hbWF6b25TZXJ2aWNlJztcclxuaW1wb3J0IHdhbG1hcnRTZXJ2aWNlIGZyb20gJy4uLy4uLy4uL3NyYy9zZXJ2aWNlcy93YWxtYXJ0U2VydmljZSc7XHJcbmltcG9ydCBlYmF5U2VydmljZSBmcm9tICcuLi8uLi8uLi9zcmMvc2VydmljZXMvZWJheVNlcnZpY2UnO1xyXG5pbXBvcnQgbW9ja1NlcnZpY2UgZnJvbSAnLi4vLi4vLi4vc3JjL3NlcnZpY2VzL21vY2tTZXJ2aWNlJztcclxuXHJcbi8vIENPUlMgbWlkZGxld2FyZVxyXG5jb25zdCBhbGxvd0NvcnMgPSBmbiA9PiBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAvLyBTZXQgQ09SUyBoZWFkZXJzIC0gc3VwcG9ydCBjb21tb24gZGV2ZWxvcG1lbnQgb3JpZ2luc1xyXG4gIGNvbnN0IG9yaWdpbiA9IHJlcS5oZWFkZXJzLm9yaWdpbiB8fCAnKic7XHJcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCB0cnVlKTtcclxuICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCBvcmlnaW4pO1xyXG4gIC8vIEFsbG93IHJlcXVlc3RzIGZyb20gbG9jYWxob3N0IHdpdGggYW55IHBvcnRcclxuICBpZiAob3JpZ2luICE9PSAnKicgJiYgIW9yaWdpbi5tYXRjaCgvXmh0dHBzPzpcXC9cXC9sb2NhbGhvc3QoOlxcZCspPyQvKSkge1xyXG4gICAgLy8gSWYgbm90IGxvY2FsaG9zdCwgc2V0IG1vcmUgc3BlY2lmaWMgb3JpZ2luXHJcbiAgICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo1MTczJyk7XHJcbiAgfVxyXG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULE9QVElPTlMsUE9TVCcpO1xyXG4gIHJlcy5zZXRIZWFkZXIoXHJcbiAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsXHJcbiAgICAnWC1DU1JGLVRva2VuLCBYLVJlcXVlc3RlZC1XaXRoLCBBY2NlcHQsIEFjY2VwdC1WZXJzaW9uLCBDb250ZW50LUxlbmd0aCwgQ29udGVudC1NRDUsIENvbnRlbnQtVHlwZSwgRGF0ZSwgWC1BcGktVmVyc2lvbiwgT3JpZ2luJ1xyXG4gICk7XHJcblxyXG4gIC8vIEhhbmRsZSBwcmVmbGlnaHQgcmVxdWVzdFxyXG4gIGlmIChyZXEubWV0aG9kID09PSAnT1BUSU9OUycpIHtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5lbmQoKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIENhbGwgdGhlIG9yaWdpbmFsIGhhbmRsZXJcclxuICByZXR1cm4gYXdhaXQgZm4ocmVxLCByZXMpO1xyXG59O1xyXG5cclxuLy8gTWFwIHRoZSBzb3VyY2UgbmFtZXMgZnJvbSBzZXJ2aWNlcyB0byB0aGUgZnJvbnRlbmQncyBleHBlY3RlZCBzb3VyY2UgbmFtZXNcclxuY29uc3Qgc291cmNlTmFtZU1hcCA9IHtcclxuICAnYW1hem9uJzogJ0dyZWVuRWFydGgnLFxyXG4gICd3YWxtYXJ0JzogJ0Vjb0xpdmluZycsXHJcbiAgJ2ViYXknOiAnRWNvVGVjaCcsXHJcbiAgJ21vY2snOiAnR3JlZW5FYXJ0aCcgIC8vIERlZmF1bHQgbW9jayBwcm9kdWN0cyB0byBHcmVlbkVhcnRoXHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdHRVQnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBxdWVyeSB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnU2VhcmNoIHF1ZXJ5IHJlY2VpdmVkOicsIHF1ZXJ5KTtcclxuICAgIFxyXG4gICAgaWYgKCFxdWVyeSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1NlYXJjaCBxdWVyeSBpcyByZXF1aXJlZCcgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmV0Y2ggcHJvZHVjdHMgZnJvbSBkaWZmZXJlbnQgc2VydmljZXMgaW4gcGFyYWxsZWxcclxuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBwcm9kdWN0cyBmcm9tIHNlcnZpY2VzLi4uJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IGFtYXpvblByb21pc2UgPSBhbWF6b25TZXJ2aWNlLnNlYXJjaFByb2R1Y3RzKHF1ZXJ5KVxyXG4gICAgICAudGhlbihwcm9kdWN0cyA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYEFtYXpvbiByZXN1bHRzIGZvciBcIiR7cXVlcnl9XCI6YCwgcHJvZHVjdHMubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gcHJvZHVjdHM7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FtYXpvbiBzZXJ2aWNlIGVycm9yOicsIGVyci5tZXNzYWdlKTtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgIGNvbnN0IHdhbG1hcnRQcm9taXNlID0gd2FsbWFydFNlcnZpY2Uuc2VhcmNoUHJvZHVjdHMocXVlcnkpXHJcbiAgICAgIC50aGVuKHByb2R1Y3RzID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgV2FsbWFydCByZXN1bHRzIGZvciBcIiR7cXVlcnl9XCI6YCwgcHJvZHVjdHMubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gcHJvZHVjdHM7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dhbG1hcnQgc2VydmljZSBlcnJvcjonLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICBjb25zdCBlYmF5UHJvbWlzZSA9IGViYXlTZXJ2aWNlLnNlYXJjaFByb2R1Y3RzKHF1ZXJ5KVxyXG4gICAgICAudGhlbihwcm9kdWN0cyA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYGVCYXkgcmVzdWx0cyBmb3IgXCIke3F1ZXJ5fVwiOmAsIHByb2R1Y3RzLmxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIHByb2R1Y3RzO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdlQmF5IHNlcnZpY2UgZXJyb3I6JywgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEFsd2F5cyBhZGQgbW9jayBzZXJ2aWNlIGZvciB0ZXN0aW5nXHJcbiAgICBjb25zdCBtb2NrUHJvbWlzZSA9IG1vY2tTZXJ2aWNlLnNlYXJjaFByb2R1Y3RzKHF1ZXJ5KVxyXG4gICAgICAudGhlbihwcm9kdWN0cyA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYE1vY2sgcmVzdWx0cyBmb3IgXCIke3F1ZXJ5fVwiOmAsIHByb2R1Y3RzLmxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIHByb2R1Y3RzO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdNb2NrIHNlcnZpY2UgZXJyb3I6JywgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICAgIC8vIFJldHVybiBlbXB0eSBhcnJheSBpbnN0ZWFkIG9mIGxldHRpbmcgdGhlIGVycm9yIHByb3BhZ2F0ZVxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnN0IFthbWF6b25Qcm9kdWN0cywgd2FsbWFydFByb2R1Y3RzLCBlYmF5UHJvZHVjdHMsIG1vY2tQcm9kdWN0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIGFtYXpvblByb21pc2UsIHdhbG1hcnRQcm9taXNlLCBlYmF5UHJvbWlzZSwgbW9ja1Byb21pc2VcclxuICAgIF0pO1xyXG5cclxuICAgIC8vIENvbWJpbmUgYW5kIGZvcm1hdCByZXN1bHRzIHdpdGggbWFwcGVkIHNvdXJjZSBuYW1lc1xyXG4gICAgbGV0IGFsbFByb2R1Y3RzID0gW1xyXG4gICAgICAuLi5hbWF6b25Qcm9kdWN0cy5tYXAocCA9PiAoeyAuLi5wLCBzb3VyY2U6IHNvdXJjZU5hbWVNYXBbJ2FtYXpvbiddIH0pKSxcclxuICAgICAgLi4ud2FsbWFydFByb2R1Y3RzLm1hcChwID0+ICh7IC4uLnAsIHNvdXJjZTogc291cmNlTmFtZU1hcFsnd2FsbWFydCddIH0pKSxcclxuICAgICAgLi4uZWJheVByb2R1Y3RzLm1hcChwID0+ICh7IC4uLnAsIHNvdXJjZTogc291cmNlTmFtZU1hcFsnZWJheSddIH0pKVxyXG4gICAgXTtcclxuICAgIFxyXG4gICAgLy8gSWYgd2UgZGlkbid0IGdldCBhbnkgcmVhbCBwcm9kdWN0cywgdXNlIG1vY2sgZGF0YVxyXG4gICAgaWYgKGFsbFByb2R1Y3RzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnTm8gcmVhbCBwcm9kdWN0cyBmb3VuZCwgdXNpbmcgbW9jayBkYXRhJyk7XHJcbiAgICAgIGFsbFByb2R1Y3RzID0gbW9ja1Byb2R1Y3RzLm1hcChwID0+ICh7IC4uLnAsIHNvdXJjZTogc291cmNlTmFtZU1hcFsnbW9jayddIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnVG90YWwgcHJvZHVjdHMgZm91bmQ6JywgYWxsUHJvZHVjdHMubGVuZ3RoKTtcclxuICAgIFxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBwcm9kdWN0czogYWxsUHJvZHVjdHMgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1NlYXJjaCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICBcclxuICAgIC8vIEV2ZW4gaW4gY2FzZSBvZiBlcnJvciwgdHJ5IHRvIHJldHVybiBtb2NrIGRhdGFcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEZvciBiaWN5Y2xlIHNlYXJjaGVzLCBwcm92aWRlIHNwZWNpZmljIG1vY2sgZGF0YVxyXG4gICAgICBpZiAocXVlcnkgJiYgcXVlcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnYmljeWNsZScpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGhhcmRjb2RlZCBiaWN5Y2xlIGRhdGEgZHVlIHRvIGVycm9yJyk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXHJcbiAgICAgICAgICBwcm9kdWN0czogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6ICdiMTAwMScsXHJcbiAgICAgICAgICAgICAgdGl0bGU6ICdCYW1ib28gRnJhbWUgQmljeWNsZScsXHJcbiAgICAgICAgICAgICAgcHJpY2U6IDY5OS45OSxcclxuICAgICAgICAgICAgICBpbWFnZVVybDogJ2h0dHBzOi8vbS5tZWRpYS1hbWF6b24uY29tL2ltYWdlcy9JLzcxUkRDcFlSOEVMLl9BQ19TTDE1MDBfLmpwZycsXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdFY28tZnJpZW5kbHkgYmljeWNsZSB3aXRoIGJhbWJvbyBmcmFtZSwgaGFuZGNyYWZ0ZWQgdXNpbmcgc3VzdGFpbmFibGUgbWF0ZXJpYWxzJyxcclxuICAgICAgICAgICAgICBzdXN0YWluYWJpbGl0eUxldmVsOiA1LFxyXG4gICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vYmFtYm9vLWJpY3ljbGUnLFxyXG4gICAgICAgICAgICAgIHJhdGluZzogNC43LFxyXG4gICAgICAgICAgICAgIHNvdXJjZTogc291cmNlTmFtZU1hcFsnbW9jayddXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogJ2IxMDAyJyxcclxuICAgICAgICAgICAgICB0aXRsZTogJ0VsZWN0cmljIENvbW11dGVyIEJpY3ljbGUnLFxyXG4gICAgICAgICAgICAgIHByaWNlOiAxMjk5Ljk5LFxyXG4gICAgICAgICAgICAgIGltYWdlVXJsOiAnaHR0cHM6Ly9tLm1lZGlhLWFtYXpvbi5jb20vaW1hZ2VzL0kvODFDckZRWk4tSUwuX0FDX1NMMTUwMF8uanBnJyxcclxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0VuZXJneS1lZmZpY2llbnQgZS1iaWtlIHdpdGggcmVjeWNsZWQgYWx1bWludW0gZnJhbWUgYW5kIHNvbGFyIGNoYXJnaW5nIGNhcGFiaWxpdHknLFxyXG4gICAgICAgICAgICAgIHN1c3RhaW5hYmlsaXR5TGV2ZWw6IDQsXHJcbiAgICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9lbGVjdHJpYy1iaWN5Y2xlJyxcclxuICAgICAgICAgICAgICByYXRpbmc6IDQuOSxcclxuICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZU5hbWVNYXBbJ21vY2snXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgZXJyb3I6ICdVc2VkIGVtZXJnZW5jeSBmYWxsYmFjayBkYXRhIGR1ZSB0byBzZWFyY2ggZXJyb3InXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG1vY2tQcm9kdWN0cyA9IGF3YWl0IG1vY2tTZXJ2aWNlLnNlYXJjaFByb2R1Y3RzKHF1ZXJ5KTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXHJcbiAgICAgICAgcHJvZHVjdHM6IG1vY2tQcm9kdWN0cy5tYXAocCA9PiAoeyAuLi5wLCBzb3VyY2U6IHNvdXJjZU5hbWVNYXBbJ21vY2snXSB9KSksXHJcbiAgICAgICAgZXJyb3I6ICdVc2VkIGZhbGxiYWNrIGRhdGEgZHVlIHRvIHNlYXJjaCBlcnJvcidcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChtb2NrRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTW9jayBmYWxsYmFjayBhbHNvIGZhaWxlZDonLCBtb2NrRXJyb3IubWVzc2FnZSk7XHJcbiAgICAgIC8vIElmIGV2ZW4gdGhhdCBmYWlscywgcmV0dXJuIGEgMjAwIHdpdGggZW1wdHkgcmVzdWx0cyBpbnN0ZWFkIG9mIGEgNTAwIGVycm9yXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxyXG4gICAgICAgIHByb2R1Y3RzOiBbXSxcclxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBzZWFyY2ggZm9yIHByb2R1Y3RzLCBwbGVhc2UgdHJ5IGEgZGlmZmVyZW50IHNlYXJjaCB0ZXJtJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsbG93Q29ycyhoYW5kbGVyKTsgIl0sIm5hbWVzIjpbImFtYXpvblNlcnZpY2UiLCJ3YWxtYXJ0U2VydmljZSIsImViYXlTZXJ2aWNlIiwibW9ja1NlcnZpY2UiLCJhbGxvd0NvcnMiLCJmbiIsInJlcSIsInJlcyIsIm9yaWdpbiIsImhlYWRlcnMiLCJzZXRIZWFkZXIiLCJtYXRjaCIsIm1ldGhvZCIsInN0YXR1cyIsImVuZCIsInNvdXJjZU5hbWVNYXAiLCJoYW5kbGVyIiwianNvbiIsImVycm9yIiwicXVlcnkiLCJjb25zb2xlIiwibG9nIiwiYW1hem9uUHJvbWlzZSIsInNlYXJjaFByb2R1Y3RzIiwidGhlbiIsInByb2R1Y3RzIiwibGVuZ3RoIiwiY2F0Y2giLCJlcnIiLCJtZXNzYWdlIiwid2FsbWFydFByb21pc2UiLCJlYmF5UHJvbWlzZSIsIm1vY2tQcm9taXNlIiwiYW1hem9uUHJvZHVjdHMiLCJ3YWxtYXJ0UHJvZHVjdHMiLCJlYmF5UHJvZHVjdHMiLCJtb2NrUHJvZHVjdHMiLCJQcm9taXNlIiwiYWxsIiwiYWxsUHJvZHVjdHMiLCJtYXAiLCJwIiwic291cmNlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImlkIiwidGl0bGUiLCJwcmljZSIsImltYWdlVXJsIiwiZGVzY3JpcHRpb24iLCJzdXN0YWluYWJpbGl0eUxldmVsIiwidXJsIiwicmF0aW5nIiwibW9ja0Vycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/products/search.js\n");

/***/ }),

/***/ "(api-node)/./src/services/amazonService.js":
/*!***************************************!*\
  !*** ./src/services/amazonService.js ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cheerio */ \"cheerio\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__]);\n([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Helper function to calculate sustainability score (simplified example)\nconst calculateSustainabilityScore = (productData)=>{\n    // This would be more complex in a real application\n    // Could check for eco-friendly labels, materials, brand reputation, etc.\n    let score = 3; // Default middle score\n    // Example logic - check for keywords in the title or description\n    const sustainabilityKeywords = [\n        'eco',\n        'sustainable',\n        'organic',\n        'recycled',\n        'green'\n    ];\n    for (const keyword of sustainabilityKeywords){\n        if (productData.title.toLowerCase().includes(keyword) || productData.description && productData.description.toLowerCase().includes(keyword)) {\n            score += 1;\n        }\n    }\n    return Math.min(5, score); // Cap at 5\n};\nconst searchProducts = async (query)=>{\n    try {\n        console.log(`Amazon service searching for: ${query}`);\n        // Add more request headers to look more like a browser\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.amazon.com/s?k=${encodeURIComponent(query)}`, {\n            headers: {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',\n                'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',\n                'Accept-Language': 'en-US,en;q=0.5',\n                'Referer': 'https://www.amazon.com/',\n                'DNT': '1',\n                'Connection': 'keep-alive',\n                'Upgrade-Insecure-Requests': '1',\n                'Cache-Control': 'max-age=0'\n            },\n            timeout: 10000\n        });\n        console.log('Amazon response status:', response.status);\n        // Check if response data exists before parsing\n        if (!response || !response.data) {\n            console.log(\"No data received from Amazon\");\n            return [];\n        }\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const products = [];\n        // Try multiple selectors that Amazon might be using\n        const productSelectors = [\n            '.s-result-item[data-asin]',\n            '[data-component-type=\"s-search-result\"]',\n            '.sg-col-4-of-12.s-result-item',\n            '.s-asin'\n        ];\n        let selectorUsed = '';\n        let productsFound = 0;\n        for (const selector of productSelectors){\n            // Try each selector\n            const elements = $(selector);\n            console.log(`Amazon selector \"${selector}\" matched ${elements.length} elements`);\n            if (elements.length > 0) {\n                selectorUsed = selector;\n                productsFound = elements.length;\n                elements.each((i, el)=>{\n                    // Extract ASIN (Amazon product ID)\n                    const asin = $(el).attr('data-asin');\n                    if (!asin) return;\n                    // Try different title selectors\n                    let title = '';\n                    const titleSelectors = [\n                        'h2 span',\n                        'h2 a span',\n                        '.a-text-normal',\n                        '.a-size-base-plus'\n                    ];\n                    for (const titleSelector of titleSelectors){\n                        const titleText = $(el).find(titleSelector).first().text().trim();\n                        if (titleText) {\n                            title = titleText;\n                            break;\n                        }\n                    }\n                    // Try different price selectors\n                    let price = null;\n                    const priceSelectors = [\n                        '.a-price .a-offscreen',\n                        '.a-price',\n                        '.a-color-price'\n                    ];\n                    for (const priceSelector of priceSelectors){\n                        const priceElement = $(el).find(priceSelector).first();\n                        const priceText = priceElement.text().trim();\n                        if (priceText) {\n                            // Extract numbers from the price text\n                            const priceMatch = priceText.match(/\\d+\\.\\d+|\\d+/);\n                            if (priceMatch) {\n                                price = parseFloat(priceMatch[0]);\n                                break;\n                            }\n                        }\n                    }\n                    // Try different image selectors\n                    let imageUrl = '';\n                    const imageSelectors = [\n                        'img.s-image',\n                        '.a-section img',\n                        'img'\n                    ];\n                    for (const imageSelector of imageSelectors){\n                        const imgElement = $(el).find(imageSelector).first();\n                        const imgSrc = imgElement.attr('src');\n                        if (imgSrc && imgSrc.startsWith('http')) {\n                            imageUrl = imgSrc;\n                            break;\n                        }\n                    }\n                    const url = 'https://www.amazon.com/dp/' + asin;\n                    if (title && price) {\n                        const productData = {\n                            id: asin,\n                            title,\n                            price,\n                            imageUrl,\n                            url\n                        };\n                        products.push({\n                            ...productData,\n                            sustainabilityLevel: calculateSustainabilityScore(productData)\n                        });\n                    }\n                });\n                // Break if we found products with this selector\n                if (products.length > 0) {\n                    break;\n                }\n            }\n        }\n        console.log(`Amazon search results: ${products.length} products found using selector: ${selectorUsed} (${productsFound} matches)`);\n        return products;\n    } catch (error) {\n        console.error('Error searching Amazon products:', error.message);\n        if (error.response) {\n            console.error('Amazon response status:', error.response.status);\n            console.error('Amazon response headers:', JSON.stringify(error.response.headers));\n        }\n        return [];\n    }\n};\nconst getProductDetails = async (productId)=>{\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.amazon.com/dp/${productId}`, {\n            headers: {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36',\n                'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',\n                'Accept-Language': 'en-US,en;q=0.5',\n                'Referer': 'https://www.amazon.com/',\n                'DNT': '1',\n                'Connection': 'keep-alive',\n                'Upgrade-Insecure-Requests': '1'\n            },\n            timeout: 10000\n        });\n        // Check if response data exists before parsing\n        if (!response || !response.data) {\n            console.log(\"No data received from Amazon product details\");\n            throw new Error(\"Failed to load product data from Amazon\");\n        }\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const title = $('#productTitle').text().trim();\n        const priceText = $('.a-price .a-offscreen').first().text().trim();\n        const price = priceText ? parseFloat(priceText.replace(/[^0-9.]/g, '')) : null;\n        // Get multiple images\n        const images = [];\n        $('#altImages img').each((i, el)=>{\n            const src = $(el).attr('src');\n            if (src && !src.includes('sprite')) {\n                // Convert thumbnail URL to full-size image URL\n                const fullSizeUrl = src.replace(/_[S]C_\\.\\w+$/, '');\n                images.push(fullSizeUrl);\n            }\n        });\n        // Extract description\n        const description = $('#productDescription p').text().trim();\n        // Extract specifications\n        const specs = {};\n        $('#productDetails_techSpec_section_1 tr').each((i, el)=>{\n            const key = $(el).find('th').text().trim();\n            const value = $(el).find('td').text().trim();\n            if (key && value) {\n                specs[key] = value;\n            }\n        });\n        const productData = {\n            id: productId,\n            title,\n            price,\n            images: images.length > 0 ? images : [\n                $('#landingImage').attr('src')\n            ],\n            description,\n            specs,\n            url: `https://www.amazon.com/dp/${productId}`\n        };\n        return {\n            ...productData,\n            sustainabilityLevel: calculateSustainabilityScore(productData)\n        };\n    } catch (error) {\n        console.error('Error getting Amazon product details:', error.message);\n        throw error;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    searchProducts,\n    getProductDetails\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3NyYy9zZXJ2aWNlcy9hbWF6b25TZXJ2aWNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwQjtBQUNTO0FBRW5DLHlFQUF5RTtBQUN6RSxNQUFNRSwrQkFBK0IsQ0FBQ0M7SUFDcEMsbURBQW1EO0lBQ25ELHlFQUF5RTtJQUN6RSxJQUFJQyxRQUFRLEdBQUcsdUJBQXVCO0lBRXRDLGlFQUFpRTtJQUNqRSxNQUFNQyx5QkFBeUI7UUFBQztRQUFPO1FBQWU7UUFBVztRQUFZO0tBQVE7SUFDckYsS0FBSyxNQUFNQyxXQUFXRCx1QkFBd0I7UUFDNUMsSUFBSUYsWUFBWUksS0FBSyxDQUFDQyxXQUFXLEdBQUdDLFFBQVEsQ0FBQ0gsWUFDeENILFlBQVlPLFdBQVcsSUFBSVAsWUFBWU8sV0FBVyxDQUFDRixXQUFXLEdBQUdDLFFBQVEsQ0FBQ0gsVUFBVztZQUN4RkYsU0FBUztRQUNYO0lBQ0Y7SUFFQSxPQUFPTyxLQUFLQyxHQUFHLENBQUMsR0FBR1IsUUFBUSxXQUFXO0FBQ3hDO0FBRUEsTUFBTVMsaUJBQWlCLE9BQU9DO0lBQzVCLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDLENBQUMsOEJBQThCLEVBQUVGLE9BQU87UUFFcEQsdURBQXVEO1FBQ3ZELE1BQU1HLFdBQVcsTUFBTWpCLGlEQUFTLENBQUMsQ0FBQywyQkFBMkIsRUFBRW1CLG1CQUFtQkwsUUFBUSxFQUFFO1lBQzFGTSxTQUFTO2dCQUNQLGNBQWM7Z0JBQ2QsVUFBVTtnQkFDVixtQkFBbUI7Z0JBQ25CLFdBQVc7Z0JBQ1gsT0FBTztnQkFDUCxjQUFjO2dCQUNkLDZCQUE2QjtnQkFDN0IsaUJBQWlCO1lBQ25CO1lBQ0FDLFNBQVM7UUFDWDtRQUVBTixRQUFRQyxHQUFHLENBQUMsMkJBQTJCQyxTQUFTSyxNQUFNO1FBRXRELCtDQUErQztRQUMvQyxJQUFJLENBQUNMLFlBQVksQ0FBQ0EsU0FBU00sSUFBSSxFQUFFO1lBQy9CUixRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPLEVB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QyxXQUFXO2dCQUNsQywrQ0FBK0M7Z0JBQy9DLE1BQU1nRSxjQUFjRCxJQUFJRixPQUFPLENBQUMsZ0JBQWdCO2dCQUNoREMsT0FBT1YsSUFBSSxDQUFDWTtZQUNkO1FBQ0Y7UUFFQSxzQkFBc0I7UUFDdEIsTUFBTS9ELGNBQWNjLEVBQUUseUJBQXlCbUIsSUFBSSxHQUFHQyxJQUFJO1FBRTFELHlCQUF5QjtRQUN6QixNQUFNOEIsUUFBUSxDQUFDO1FBQ2ZsRCxFQUFFLHlDQUF5Q1MsSUFBSSxDQUFDLENBQUNDLEdBQUdDO1lBQ2xELE1BQU13QyxNQUFNbkQsRUFBRVcsSUFBSU0sSUFBSSxDQUFDLE1BQU1FLElBQUksR0FBR0MsSUFBSTtZQUN4QyxNQUFNZ0MsUUFBUXBELEVBQUVXLElBQUlNLElBQUksQ0FBQyxNQUFNRSxJQUFJLEdBQUdDLElBQUk7WUFDMUMsSUFBSStCLE9BQU9DLE9BQU87Z0JBQ2hCRixLQUFLLENBQUNDLElBQUksR0FBR0M7WUFDZjtRQUNGO1FBRUEsTUFBTXpFLGNBQWM7WUFDbEJ5RCxJQUFJUTtZQUNKN0Q7WUFDQXNDO1lBQ0EwQixRQUFRQSxPQUFPdkMsTUFBTSxHQUFHLElBQUl1QyxTQUFTO2dCQUFDL0MsRUFBRSxpQkFBaUJhLElBQUksQ0FBQzthQUFPO1lBQ3JFM0I7WUFDQWdFO1lBQ0FmLEtBQUssQ0FBQywwQkFBMEIsRUFBRVMsV0FBVztRQUMvQztRQUVBLE9BQU87WUFDTCxHQUFHakUsV0FBVztZQUNkMkQscUJBQXFCNUQsNkJBQTZCQztRQUNwRDtJQUNGLEVBQUUsT0FBTzRELE9BQU87UUFDZGhELFFBQVFnRCxLQUFLLENBQUMseUNBQXlDQSxNQUFNQyxPQUFPO1FBQ3BFLE1BQU1EO0lBQ1I7QUFDRjtBQUVBLGlFQUFlO0lBQ2JsRDtJQUNBc0Q7QUFDRixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcYWRtaW5cXEhhY2thYnVsbFdlYlxcYmFja2VuZFxcc3JjXFxzZXJ2aWNlc1xcYW1hem9uU2VydmljZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgKiBhcyBjaGVlcmlvIGZyb20gJ2NoZWVyaW8nO1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBzdXN0YWluYWJpbGl0eSBzY29yZSAoc2ltcGxpZmllZCBleGFtcGxlKVxyXG5jb25zdCBjYWxjdWxhdGVTdXN0YWluYWJpbGl0eVNjb3JlID0gKHByb2R1Y3REYXRhKSA9PiB7XHJcbiAgLy8gVGhpcyB3b3VsZCBiZSBtb3JlIGNvbXBsZXggaW4gYSByZWFsIGFwcGxpY2F0aW9uXHJcbiAgLy8gQ291bGQgY2hlY2sgZm9yIGVjby1mcmllbmRseSBsYWJlbHMsIG1hdGVyaWFscywgYnJhbmQgcmVwdXRhdGlvbiwgZXRjLlxyXG4gIGxldCBzY29yZSA9IDM7IC8vIERlZmF1bHQgbWlkZGxlIHNjb3JlXHJcbiAgXHJcbiAgLy8gRXhhbXBsZSBsb2dpYyAtIGNoZWNrIGZvciBrZXl3b3JkcyBpbiB0aGUgdGl0bGUgb3IgZGVzY3JpcHRpb25cclxuICBjb25zdCBzdXN0YWluYWJpbGl0eUtleXdvcmRzID0gWydlY28nLCAnc3VzdGFpbmFibGUnLCAnb3JnYW5pYycsICdyZWN5Y2xlZCcsICdncmVlbiddO1xyXG4gIGZvciAoY29uc3Qga2V5d29yZCBvZiBzdXN0YWluYWJpbGl0eUtleXdvcmRzKSB7XHJcbiAgICBpZiAocHJvZHVjdERhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhrZXl3b3JkKSB8fCBcclxuICAgICAgICAocHJvZHVjdERhdGEuZGVzY3JpcHRpb24gJiYgcHJvZHVjdERhdGEuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhrZXl3b3JkKSkpIHtcclxuICAgICAgc2NvcmUgKz0gMTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIE1hdGgubWluKDUsIHNjb3JlKTsgLy8gQ2FwIGF0IDVcclxufTtcclxuXHJcbmNvbnN0IHNlYXJjaFByb2R1Y3RzID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGBBbWF6b24gc2VydmljZSBzZWFyY2hpbmcgZm9yOiAke3F1ZXJ5fWApO1xyXG4gICAgXHJcbiAgICAvLyBBZGQgbW9yZSByZXF1ZXN0IGhlYWRlcnMgdG8gbG9vayBtb3JlIGxpa2UgYSBicm93c2VyXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly93d3cuYW1hem9uLmNvbS9zP2s9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnLFxyXG4gICAgICAgICdBY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCwqLyo7cT0wLjgnLFxyXG4gICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjUnLFxyXG4gICAgICAgICdSZWZlcmVyJzogJ2h0dHBzOi8vd3d3LmFtYXpvbi5jb20vJyxcclxuICAgICAgICAnRE5UJzogJzEnLFxyXG4gICAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLFxyXG4gICAgICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzJzogJzEnLFxyXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ21heC1hZ2U9MCdcclxuICAgICAgfSxcclxuICAgICAgdGltZW91dDogMTAwMDBcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnQW1hem9uIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiByZXNwb25zZSBkYXRhIGV4aXN0cyBiZWZvcmUgcGFyc2luZ1xyXG4gICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2UuZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk5vIGRhdGEgcmVjZWl2ZWQgZnJvbSBBbWF6b25cIik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXNwb25zZS5kYXRhKTtcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gW107XHJcbiAgICBcclxuICAgIC8vIFRyeSBtdWx0aXBsZSBzZWxlY3RvcnMgdGhhdCBBbWF6b24gbWlnaHQgYmUgdXNpbmdcclxuICAgIGNvbnN0IHByb2R1Y3RTZWxlY3RvcnMgPSBbXHJcbiAgICAgICcucy1yZXN1bHQtaXRlbVtkYXRhLWFzaW5dJyxcclxuICAgICAgJ1tkYXRhLWNvbXBvbmVudC10eXBlPVwicy1zZWFyY2gtcmVzdWx0XCJdJyxcclxuICAgICAgJy5zZy1jb2wtNC1vZi0xMi5zLXJlc3VsdC1pdGVtJyxcclxuICAgICAgJy5zLWFzaW4nXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICBsZXQgc2VsZWN0b3JVc2VkID0gJyc7XHJcbiAgICBsZXQgcHJvZHVjdHNGb3VuZCA9IDA7XHJcbiAgICBcclxuICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgcHJvZHVjdFNlbGVjdG9ycykge1xyXG4gICAgICAvLyBUcnkgZWFjaCBzZWxlY3RvclxyXG4gICAgICBjb25zdCBlbGVtZW50cyA9ICQoc2VsZWN0b3IpO1xyXG4gICAgICBjb25zb2xlLmxvZyhgQW1hem9uIHNlbGVjdG9yIFwiJHtzZWxlY3Rvcn1cIiBtYXRjaGVkICR7ZWxlbWVudHMubGVuZ3RofSBlbGVtZW50c2ApO1xyXG4gICAgICBcclxuICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBzZWxlY3RvclVzZWQgPSBzZWxlY3RvcjtcclxuICAgICAgICBwcm9kdWN0c0ZvdW5kID0gZWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGVsZW1lbnRzLmVhY2goKGksIGVsKSA9PiB7XHJcbiAgICAgICAgICAvLyBFeHRyYWN0IEFTSU4gKEFtYXpvbiBwcm9kdWN0IElEKVxyXG4gICAgICAgICAgY29uc3QgYXNpbiA9ICQoZWwpLmF0dHIoJ2RhdGEtYXNpbicpO1xyXG4gICAgICAgICAgaWYgKCFhc2luKSByZXR1cm47XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFRyeSBkaWZmZXJlbnQgdGl0bGUgc2VsZWN0b3JzXHJcbiAgICAgICAgICBsZXQgdGl0bGUgPSAnJztcclxuICAgICAgICAgIGNvbnN0IHRpdGxlU2VsZWN0b3JzID0gWydoMiBzcGFuJywgJ2gyIGEgc3BhbicsICcuYS10ZXh0LW5vcm1hbCcsICcuYS1zaXplLWJhc2UtcGx1cyddO1xyXG4gICAgICAgICAgZm9yIChjb25zdCB0aXRsZVNlbGVjdG9yIG9mIHRpdGxlU2VsZWN0b3JzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlVGV4dCA9ICQoZWwpLmZpbmQodGl0bGVTZWxlY3RvcikuZmlyc3QoKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgICAgICAgICBpZiAodGl0bGVUZXh0KSB7XHJcbiAgICAgICAgICAgICAgdGl0bGUgPSB0aXRsZVRleHQ7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVHJ5IGRpZmZlcmVudCBwcmljZSBzZWxlY3RvcnNcclxuICAgICAgICAgIGxldCBwcmljZSA9IG51bGw7XHJcbiAgICAgICAgICBjb25zdCBwcmljZVNlbGVjdG9ycyA9IFsnLmEtcHJpY2UgLmEtb2Zmc2NyZWVuJywgJy5hLXByaWNlJywgJy5hLWNvbG9yLXByaWNlJ107XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IHByaWNlU2VsZWN0b3Igb2YgcHJpY2VTZWxlY3RvcnMpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50ID0gJChlbCkuZmluZChwcmljZVNlbGVjdG9yKS5maXJzdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBwcmljZVRleHQgPSBwcmljZUVsZW1lbnQudGV4dCgpLnRyaW0oKTtcclxuICAgICAgICAgICAgaWYgKHByaWNlVGV4dCkge1xyXG4gICAgICAgICAgICAgIC8vIEV4dHJhY3QgbnVtYmVycyBmcm9tIHRoZSBwcmljZSB0ZXh0XHJcbiAgICAgICAgICAgICAgY29uc3QgcHJpY2VNYXRjaCA9IHByaWNlVGV4dC5tYXRjaCgvXFxkK1xcLlxcZCt8XFxkKy8pO1xyXG4gICAgICAgICAgICAgIGlmIChwcmljZU1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICBwcmljZSA9IHBhcnNlRmxvYXQocHJpY2VNYXRjaFswXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVHJ5IGRpZmZlcmVudCBpbWFnZSBzZWxlY3RvcnNcclxuICAgICAgICAgIGxldCBpbWFnZVVybCA9ICcnO1xyXG4gICAgICAgICAgY29uc3QgaW1hZ2VTZWxlY3RvcnMgPSBbJ2ltZy5zLWltYWdlJywgJy5hLXNlY3Rpb24gaW1nJywgJ2ltZyddO1xyXG4gICAgICAgICAgZm9yIChjb25zdCBpbWFnZVNlbGVjdG9yIG9mIGltYWdlU2VsZWN0b3JzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGltZ0VsZW1lbnQgPSAkKGVsKS5maW5kKGltYWdlU2VsZWN0b3IpLmZpcnN0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGltZ1NyYyA9IGltZ0VsZW1lbnQuYXR0cignc3JjJyk7XHJcbiAgICAgICAgICAgIGlmIChpbWdTcmMgJiYgaW1nU3JjLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xyXG4gICAgICAgICAgICAgIGltYWdlVXJsID0gaW1nU3JjO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHVybCA9ICdodHRwczovL3d3dy5hbWF6b24uY29tL2RwLycgKyBhc2luO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAodGl0bGUgJiYgcHJpY2UpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvZHVjdERhdGEgPSB7IGlkOiBhc2luLCB0aXRsZSwgcHJpY2UsIGltYWdlVXJsLCB1cmwgfTtcclxuICAgICAgICAgICAgcHJvZHVjdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgLi4ucHJvZHVjdERhdGEsXHJcbiAgICAgICAgICAgICAgc3VzdGFpbmFiaWxpdHlMZXZlbDogY2FsY3VsYXRlU3VzdGFpbmFiaWxpdHlTY29yZShwcm9kdWN0RGF0YSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQnJlYWsgaWYgd2UgZm91bmQgcHJvZHVjdHMgd2l0aCB0aGlzIHNlbGVjdG9yXHJcbiAgICAgICAgaWYgKHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgQW1hem9uIHNlYXJjaCByZXN1bHRzOiAke3Byb2R1Y3RzLmxlbmd0aH0gcHJvZHVjdHMgZm91bmQgdXNpbmcgc2VsZWN0b3I6ICR7c2VsZWN0b3JVc2VkfSAoJHtwcm9kdWN0c0ZvdW5kfSBtYXRjaGVzKWApO1xyXG4gICAgXHJcbiAgICByZXR1cm4gcHJvZHVjdHM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlYXJjaGluZyBBbWF6b24gcHJvZHVjdHM6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQW1hem9uIHJlc3BvbnNlIHN0YXR1czonLCBlcnJvci5yZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBbWF6b24gcmVzcG9uc2UgaGVhZGVyczonLCBKU09OLnN0cmluZ2lmeShlcnJvci5yZXNwb25zZS5oZWFkZXJzKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZ2V0UHJvZHVjdERldGFpbHMgPSBhc3luYyAocHJvZHVjdElkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy5hbWF6b24uY29tL2RwLyR7cHJvZHVjdElkfWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnLFxyXG4gICAgICAgICdBY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCwqLyo7cT0wLjgnLFxyXG4gICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjUnLFxyXG4gICAgICAgICdSZWZlcmVyJzogJ2h0dHBzOi8vd3d3LmFtYXpvbi5jb20vJyxcclxuICAgICAgICAnRE5UJzogJzEnLFxyXG4gICAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLFxyXG4gICAgICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzJzogJzEnXHJcbiAgICAgIH0sXHJcbiAgICAgIHRpbWVvdXQ6IDEwMDAwXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgcmVzcG9uc2UgZGF0YSBleGlzdHMgYmVmb3JlIHBhcnNpbmdcclxuICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLmRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJObyBkYXRhIHJlY2VpdmVkIGZyb20gQW1hem9uIHByb2R1Y3QgZGV0YWlsc1wiKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgcHJvZHVjdCBkYXRhIGZyb20gQW1hem9uXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCAkID0gY2hlZXJpby5sb2FkKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgXHJcbiAgICBjb25zdCB0aXRsZSA9ICQoJyNwcm9kdWN0VGl0bGUnKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgY29uc3QgcHJpY2VUZXh0ID0gJCgnLmEtcHJpY2UgLmEtb2Zmc2NyZWVuJykuZmlyc3QoKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgY29uc3QgcHJpY2UgPSBwcmljZVRleHQgPyBwYXJzZUZsb2F0KHByaWNlVGV4dC5yZXBsYWNlKC9bXjAtOS5dL2csICcnKSkgOiBudWxsO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgbXVsdGlwbGUgaW1hZ2VzXHJcbiAgICBjb25zdCBpbWFnZXMgPSBbXTtcclxuICAgICQoJyNhbHRJbWFnZXMgaW1nJykuZWFjaCgoaSwgZWwpID0+IHtcclxuICAgICAgY29uc3Qgc3JjID0gJChlbCkuYXR0cignc3JjJyk7XHJcbiAgICAgIGlmIChzcmMgJiYgIXNyYy5pbmNsdWRlcygnc3ByaXRlJykpIHtcclxuICAgICAgICAvLyBDb252ZXJ0IHRodW1ibmFpbCBVUkwgdG8gZnVsbC1zaXplIGltYWdlIFVSTFxyXG4gICAgICAgIGNvbnN0IGZ1bGxTaXplVXJsID0gc3JjLnJlcGxhY2UoL19bU11DX1xcLlxcdyskLywgJycpO1xyXG4gICAgICAgIGltYWdlcy5wdXNoKGZ1bGxTaXplVXJsKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEV4dHJhY3QgZGVzY3JpcHRpb25cclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gJCgnI3Byb2R1Y3REZXNjcmlwdGlvbiBwJykudGV4dCgpLnRyaW0oKTtcclxuICAgIFxyXG4gICAgLy8gRXh0cmFjdCBzcGVjaWZpY2F0aW9uc1xyXG4gICAgY29uc3Qgc3BlY3MgPSB7fTtcclxuICAgICQoJyNwcm9kdWN0RGV0YWlsc190ZWNoU3BlY19zZWN0aW9uXzEgdHInKS5lYWNoKChpLCBlbCkgPT4ge1xyXG4gICAgICBjb25zdCBrZXkgPSAkKGVsKS5maW5kKCd0aCcpLnRleHQoKS50cmltKCk7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gJChlbCkuZmluZCgndGQnKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgICBpZiAoa2V5ICYmIHZhbHVlKSB7XHJcbiAgICAgICAgc3BlY3Nba2V5XSA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgcHJvZHVjdERhdGEgPSB7XHJcbiAgICAgIGlkOiBwcm9kdWN0SWQsXHJcbiAgICAgIHRpdGxlLFxyXG4gICAgICBwcmljZSxcclxuICAgICAgaW1hZ2VzOiBpbWFnZXMubGVuZ3RoID4gMCA/IGltYWdlcyA6IFskKCcjbGFuZGluZ0ltYWdlJykuYXR0cignc3JjJyldLFxyXG4gICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgc3BlY3MsXHJcbiAgICAgIHVybDogYGh0dHBzOi8vd3d3LmFtYXpvbi5jb20vZHAvJHtwcm9kdWN0SWR9YFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4ucHJvZHVjdERhdGEsXHJcbiAgICAgIHN1c3RhaW5hYmlsaXR5TGV2ZWw6IGNhbGN1bGF0ZVN1c3RhaW5hYmlsaXR5U2NvcmUocHJvZHVjdERhdGEpXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIEFtYXpvbiBwcm9kdWN0IGRldGFpbHM6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgc2VhcmNoUHJvZHVjdHMsXHJcbiAgZ2V0UHJvZHVjdERldGFpbHNcclxufTsiXSwibmFtZXMiOlsiYXhpb3MiLCJjaGVlcmlvIiwiY2FsY3VsYXRlU3VzdGFpbmFiaWxpdHlTY29yZSIsInByb2R1Y3REYXRhIiwic2NvcmUiLCJzdXN0YWluYWJpbGl0eUtleXdvcmRzIiwia2V5d29yZCIsInRpdGxlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImRlc2NyaXB0aW9uIiwiTWF0aCIsIm1pbiIsInNlYXJjaFByb2R1Y3RzIiwicXVlcnkiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJnZXQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJoZWFkZXJzIiwidGltZW91dCIsInN0YXR1cyIsImRhdGEiLCIkIiwibG9hZCIsInByb2R1Y3RzIiwicHJvZHVjdFNlbGVjdG9ycyIsInNlbGVjdG9yVXNlZCIsInByb2R1Y3RzRm91bmQiLCJzZWxlY3RvciIsImVsZW1lbnRzIiwibGVuZ3RoIiwiZWFjaCIsImkiLCJlbCIsImFzaW4iLCJhdHRyIiwidGl0bGVTZWxlY3RvcnMiLCJ0aXRsZVNlbGVjdG9yIiwidGl0bGVUZXh0IiwiZmluZCIsImZpcnN0IiwidGV4dCIsInRyaW0iLCJwcmljZSIsInByaWNlU2VsZWN0b3JzIiwicHJpY2VTZWxlY3RvciIsInByaWNlRWxlbWVudCIsInByaWNlVGV4dCIsInByaWNlTWF0Y2giLCJtYXRjaCIsInBhcnNlRmxvYXQiLCJpbWFnZVVybCIsImltYWdlU2VsZWN0b3JzIiwiaW1hZ2VTZWxlY3RvciIsImltZ0VsZW1lbnQiLCJpbWdTcmMiLCJzdGFydHNXaXRoIiwidXJsIiwiaWQiLCJwdXNoIiwic3VzdGFpbmFiaWxpdHlMZXZlbCIsImVycm9yIiwibWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRQcm9kdWN0RGV0YWlscyIsInByb2R1Y3RJZCIsIkVycm9yIiwicmVwbGFjZSIsImltYWdlcyIsInNyYyIsImZ1bGxTaXplVXJsIiwic3BlY3MiLCJrZXkiLCJ2YWx1ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./src/services/amazonService.js\n");

/***/ }),

/***/ "(api-node)/./src/services/ebayService.js":
/*!*************************************!*\
  !*** ./src/services/ebayService.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cheerio */ \"cheerio\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__]);\n([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Helper function to calculate sustainability score\nconst calculateSustainabilityScore = (productData)=>{\n    // This would be more complex in a real application\n    let score = 2; // Default score for eBay - has secondhand items which can be more sustainable\n    // Boost score for potentially used/secondhand goods\n    if (productData.title.toLowerCase().includes('used') || productData.title.toLowerCase().includes('pre-owned') || productData.title.toLowerCase().includes('refurbished') || productData.title.toLowerCase().includes('vintage')) {\n        score += 2;\n    }\n    // Example logic - check for additional sustainability keywords\n    const sustainabilityKeywords = [\n        'eco',\n        'sustainable',\n        'organic',\n        'recycled',\n        'green'\n    ];\n    for (const keyword of sustainabilityKeywords){\n        if (productData.title.toLowerCase().includes(keyword) || productData.description && productData.description.toLowerCase().includes(keyword)) {\n            score += 1;\n            break; // Only add 1 point max for keywords\n        }\n    }\n    return Math.min(5, score); // Cap at 5\n};\nconst searchProducts = async (query)=>{\n    try {\n        // Note: In a production environment, you would need to use official APIs instead of scraping\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.ebay.com/sch/i.html?_nkw=${encodeURIComponent(query)}`, {\n            headers: {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n            }\n        });\n        // Check if response data exists before parsing\n        if (!response || !response.data) {\n            console.log(\"No data received from eBay\");\n            return [];\n        }\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const products = [];\n        // This selector would need to be updated based on eBay's current HTML structure\n        $('.s-item__wrapper').each((i, el)=>{\n            const linkElement = $(el).find('.s-item__link');\n            if (!linkElement.length) return;\n            const url = linkElement.attr('href');\n            if (!url) return;\n            // Extract ID from URL\n            const idMatch = url.match(/\\/(\\d+)\\?/);\n            const id = idMatch ? idMatch[1] : null;\n            if (!id) return;\n            const title = $(el).find('.s-item__title').text().trim();\n            const priceText = $(el).find('.s-item__price').text().trim();\n            const price = priceText ? parseFloat(priceText.replace(/[^0-9.]/g, '')) : null;\n            const imageUrl = $(el).find('.s-item__image-img').attr('src');\n            if (title && price) {\n                const productData = {\n                    id,\n                    title,\n                    price,\n                    imageUrl,\n                    url\n                };\n                products.push({\n                    ...productData,\n                    sustainabilityLevel: calculateSustainabilityScore(productData)\n                });\n            }\n        });\n        return products;\n    } catch (error) {\n        console.error('Error searching eBay products:', error);\n        return [];\n    }\n};\nconst getProductDetails = async (productId)=>{\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.ebay.com/itm/${productId}`, {\n            headers: {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n            }\n        });\n        // Check if response data exists before parsing\n        if (!response || !response.data) {\n            console.log(\"No data received from eBay product details\");\n            throw new Error(\"Failed to load product data from eBay\");\n        }\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const title = $('#itemTitle').clone().children().remove().end().text().trim();\n        const priceText = $('#prcIsum').text().trim();\n        const price = priceText ? parseFloat(priceText.replace(/[^0-9.]/g, '')) : null;\n        // Get images\n        const images = [];\n        $('#icImg').each((i, el)=>{\n            const src = $(el).attr('src');\n            if (src) {\n                // Convert to fullsize image URL\n                const fullSizeUrl = src.replace(/\\/s-l\\d+\\./, '/s-l1600.');\n                images.push(fullSizeUrl);\n            }\n        });\n        // Extract description\n        let description = '';\n        try {\n            // eBay often loads descriptions in iframes\n            const descriptionIframeSrc = $('#desc_ifr').attr('src');\n            if (descriptionIframeSrc) {\n                const descResponse = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(descriptionIframeSrc, {\n                    headers: {\n                        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n                    }\n                });\n                const $desc = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(descResponse.data);\n                description = $desc('body').text().trim();\n            } else {\n                description = $('.item-description').text().trim();\n            }\n        } catch (e) {\n            description = '';\n        }\n        // Extract specifications/item specifics\n        const specs = {};\n        $('.item-details .ux-labels-values__labels').each((i, el)=>{\n            const key = $(el).text().trim();\n            const value = $(el).next('.ux-labels-values__values').text().trim();\n            if (key && value) {\n                specs[key] = value;\n            }\n        });\n        const condition = $('.x-item-condition-text').text().trim();\n        const productData = {\n            id: productId,\n            title,\n            price,\n            images: images.length > 0 ? images : [],\n            description,\n            specs,\n            condition,\n            url: `https://www.ebay.com/itm/${productId}`\n        };\n        return {\n            ...productData,\n            sustainabilityLevel: calculateSustainabilityScore(productData)\n        };\n    } catch (error) {\n        console.error('Error getting eBay product details:', error);\n        throw error;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    searchProducts,\n    getProductDetails\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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XGViYXlTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCAqIGFzIGNoZWVyaW8gZnJvbSAnY2hlZXJpbyc7XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIHN1c3RhaW5hYmlsaXR5IHNjb3JlXHJcbmNvbnN0IGNhbGN1bGF0ZVN1c3RhaW5hYmlsaXR5U2NvcmUgPSAocHJvZHVjdERhdGEpID0+IHtcclxuICAvLyBUaGlzIHdvdWxkIGJlIG1vcmUgY29tcGxleCBpbiBhIHJlYWwgYXBwbGljYXRpb25cclxuICBsZXQgc2NvcmUgPSAyOyAvLyBEZWZhdWx0IHNjb3JlIGZvciBlQmF5IC0gaGFzIHNlY29uZGhhbmQgaXRlbXMgd2hpY2ggY2FuIGJlIG1vcmUgc3VzdGFpbmFibGVcclxuICBcclxuICAvLyBCb29zdCBzY29yZSBmb3IgcG90ZW50aWFsbHkgdXNlZC9zZWNvbmRoYW5kIGdvb2RzXHJcbiAgaWYgKHByb2R1Y3REYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3VzZWQnKSB8fCBcclxuICAgICAgcHJvZHVjdERhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncHJlLW93bmVkJykgfHxcclxuICAgICAgcHJvZHVjdERhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncmVmdXJiaXNoZWQnKSB8fFxyXG4gICAgICBwcm9kdWN0RGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd2aW50YWdlJykpIHtcclxuICAgIHNjb3JlICs9IDI7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEV4YW1wbGUgbG9naWMgLSBjaGVjayBmb3IgYWRkaXRpb25hbCBzdXN0YWluYWJpbGl0eSBrZXl3b3Jkc1xyXG4gIGNvbnN0IHN1c3RhaW5hYmlsaXR5S2V5d29yZHMgPSBbJ2VjbycsICdzdXN0YWluYWJsZScsICdvcmdhbmljJywgJ3JlY3ljbGVkJywgJ2dyZWVuJ107XHJcbiAgZm9yIChjb25zdCBrZXl3b3JkIG9mIHN1c3RhaW5hYmlsaXR5S2V5d29yZHMpIHtcclxuICAgIGlmIChwcm9kdWN0RGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpIHx8IFxyXG4gICAgICAgIChwcm9kdWN0RGF0YS5kZXNjcmlwdGlvbiAmJiBwcm9kdWN0RGF0YS5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpKSkge1xyXG4gICAgICBzY29yZSArPSAxO1xyXG4gICAgICBicmVhazsgLy8gT25seSBhZGQgMSBwb2ludCBtYXggZm9yIGtleXdvcmRzXHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBNYXRoLm1pbig1LCBzY29yZSk7IC8vIENhcCBhdCA1XHJcbn07XHJcblxyXG5jb25zdCBzZWFyY2hQcm9kdWN0cyA9IGFzeW5jIChxdWVyeSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBOb3RlOiBJbiBhIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQsIHlvdSB3b3VsZCBuZWVkIHRvIHVzZSBvZmZpY2lhbCBBUElzIGluc3RlYWQgb2Ygc2NyYXBpbmdcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy5lYmF5LmNvbS9zY2gvaS5odG1sP19ua3c9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiByZXNwb25zZSBkYXRhIGV4aXN0cyBiZWZvcmUgcGFyc2luZ1xyXG4gICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2UuZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk5vIGRhdGEgcmVjZWl2ZWQgZnJvbSBlQmF5XCIpO1xyXG4gICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0ICQgPSBjaGVlcmlvLmxvYWQocmVzcG9uc2UuZGF0YSk7XHJcbiAgICBjb25zdCBwcm9kdWN0cyA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBUaGlzIHNlbGVjdG9yIHdvdWxkIG5lZWQgdG8gYmUgdXBkYXRlZCBiYXNlZCBvbiBlQmF5J3MgY3VycmVudCBIVE1MIHN0cnVjdHVyZVxyXG4gICAgJCgnLnMtaXRlbV9fd3JhcHBlcicpLmVhY2goKGksIGVsKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpbmtFbGVtZW50ID0gJChlbCkuZmluZCgnLnMtaXRlbV9fbGluaycpO1xyXG4gICAgICBpZiAoIWxpbmtFbGVtZW50Lmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgdXJsID0gbGlua0VsZW1lbnQuYXR0cignaHJlZicpO1xyXG4gICAgICBpZiAoIXVybCkgcmV0dXJuO1xyXG4gICAgICBcclxuICAgICAgLy8gRXh0cmFjdCBJRCBmcm9tIFVSTFxyXG4gICAgICBjb25zdCBpZE1hdGNoID0gdXJsLm1hdGNoKC9cXC8oXFxkKylcXD8vKTtcclxuICAgICAgY29uc3QgaWQgPSBpZE1hdGNoID8gaWRNYXRjaFsxXSA6IG51bGw7XHJcbiAgICAgIGlmICghaWQpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHRpdGxlID0gJChlbCkuZmluZCgnLnMtaXRlbV9fdGl0bGUnKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgICBjb25zdCBwcmljZVRleHQgPSAkKGVsKS5maW5kKCcucy1pdGVtX19wcmljZScpLnRleHQoKS50cmltKCk7XHJcbiAgICAgIGNvbnN0IHByaWNlID0gcHJpY2VUZXh0ID8gcGFyc2VGbG9hdChwcmljZVRleHQucmVwbGFjZSgvW14wLTkuXS9nLCAnJykpIDogbnVsbDtcclxuICAgICAgY29uc3QgaW1hZ2VVcmwgPSAkKGVsKS5maW5kKCcucy1pdGVtX19pbWFnZS1pbWcnKS5hdHRyKCdzcmMnKTtcclxuICAgICAgXHJcbiAgICAgIGlmICh0aXRsZSAmJiBwcmljZSkge1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3REYXRhID0geyBpZCwgdGl0bGUsIHByaWNlLCBpbWFnZVVybCwgdXJsIH07XHJcbiAgICAgICAgcHJvZHVjdHMucHVzaCh7XHJcbiAgICAgICAgICAuLi5wcm9kdWN0RGF0YSxcclxuICAgICAgICAgIHN1c3RhaW5hYmlsaXR5TGV2ZWw6IGNhbGN1bGF0ZVN1c3RhaW5hYmlsaXR5U2NvcmUocHJvZHVjdERhdGEpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4gcHJvZHVjdHM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlYXJjaGluZyBlQmF5IHByb2R1Y3RzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRQcm9kdWN0RGV0YWlscyA9IGFzeW5jIChwcm9kdWN0SWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LmViYXkuY29tL2l0bS8ke3Byb2R1Y3RJZH1gLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTEuMC40NDcyLjEyNCBTYWZhcmkvNTM3LjM2J1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgcmVzcG9uc2UgZGF0YSBleGlzdHMgYmVmb3JlIHBhcnNpbmdcclxuICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLmRhdGEpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJObyBkYXRhIHJlY2VpdmVkIGZyb20gZUJheSBwcm9kdWN0IGRldGFpbHNcIik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIHByb2R1Y3QgZGF0YSBmcm9tIGVCYXlcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0ICQgPSBjaGVlcmlvLmxvYWQocmVzcG9uc2UuZGF0YSk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRpdGxlID0gJCgnI2l0ZW1UaXRsZScpLmNsb25lKCkuY2hpbGRyZW4oKS5yZW1vdmUoKS5lbmQoKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgY29uc3QgcHJpY2VUZXh0ID0gJCgnI3ByY0lzdW0nKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgY29uc3QgcHJpY2UgPSBwcmljZVRleHQgPyBwYXJzZUZsb2F0KHByaWNlVGV4dC5yZXBsYWNlKC9bXjAtOS5dL2csICcnKSkgOiBudWxsO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgaW1hZ2VzXHJcbiAgICBjb25zdCBpbWFnZXMgPSBbXTtcclxuICAgICQoJyNpY0ltZycpLmVhY2goKGksIGVsKSA9PiB7XHJcbiAgICAgIGNvbnN0IHNyYyA9ICQoZWwpLmF0dHIoJ3NyYycpO1xyXG4gICAgICBpZiAoc3JjKSB7XHJcbiAgICAgICAgLy8gQ29udmVydCB0byBmdWxsc2l6ZSBpbWFnZSBVUkxcclxuICAgICAgICBjb25zdCBmdWxsU2l6ZVVybCA9IHNyYy5yZXBsYWNlKC9cXC9zLWxcXGQrXFwuLywgJy9zLWwxNjAwLicpO1xyXG4gICAgICAgIGltYWdlcy5wdXNoKGZ1bGxTaXplVXJsKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIEV4dHJhY3QgZGVzY3JpcHRpb25cclxuICAgIGxldCBkZXNjcmlwdGlvbiA9ICcnO1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gZUJheSBvZnRlbiBsb2FkcyBkZXNjcmlwdGlvbnMgaW4gaWZyYW1lc1xyXG4gICAgICBjb25zdCBkZXNjcmlwdGlvbklmcmFtZVNyYyA9ICQoJyNkZXNjX2lmcicpLmF0dHIoJ3NyYycpO1xyXG4gICAgICBpZiAoZGVzY3JpcHRpb25JZnJhbWVTcmMpIHtcclxuICAgICAgICBjb25zdCBkZXNjUmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoZGVzY3JpcHRpb25JZnJhbWVTcmMsIHtcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2J1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0ICRkZXNjID0gY2hlZXJpby5sb2FkKGRlc2NSZXNwb25zZS5kYXRhKTtcclxuICAgICAgICBkZXNjcmlwdGlvbiA9ICRkZXNjKCdib2R5JykudGV4dCgpLnRyaW0oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkZXNjcmlwdGlvbiA9ICQoJy5pdGVtLWRlc2NyaXB0aW9uJykudGV4dCgpLnRyaW0oKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBkZXNjcmlwdGlvbiA9ICcnO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IHNwZWNpZmljYXRpb25zL2l0ZW0gc3BlY2lmaWNzXHJcbiAgICBjb25zdCBzcGVjcyA9IHt9O1xyXG4gICAgJCgnLml0ZW0tZGV0YWlscyAudXgtbGFiZWxzLXZhbHVlc19fbGFiZWxzJykuZWFjaCgoaSwgZWwpID0+IHtcclxuICAgICAgY29uc3Qga2V5ID0gJChlbCkudGV4dCgpLnRyaW0oKTtcclxuICAgICAgY29uc3QgdmFsdWUgPSAkKGVsKS5uZXh0KCcudXgtbGFiZWxzLXZhbHVlc19fdmFsdWVzJykudGV4dCgpLnRyaW0oKTtcclxuICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xyXG4gICAgICAgIHNwZWNzW2tleV0gPSB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbmRpdGlvbiA9ICQoJy54LWl0ZW0tY29uZGl0aW9uLXRleHQnKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHtcclxuICAgICAgaWQ6IHByb2R1Y3RJZCxcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIHByaWNlLFxyXG4gICAgICBpbWFnZXM6IGltYWdlcy5sZW5ndGggPiAwID8gaW1hZ2VzIDogW10sXHJcbiAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICBzcGVjcyxcclxuICAgICAgY29uZGl0aW9uLFxyXG4gICAgICB1cmw6IGBodHRwczovL3d3dy5lYmF5LmNvbS9pdG0vJHtwcm9kdWN0SWR9YFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4ucHJvZHVjdERhdGEsXHJcbiAgICAgIHN1c3RhaW5hYmlsaXR5TGV2ZWw6IGNhbGN1bGF0ZVN1c3RhaW5hYmlsaXR5U2NvcmUocHJvZHVjdERhdGEpXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGVCYXkgcHJvZHVjdCBkZXRhaWxzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBzZWFyY2hQcm9kdWN0cyxcclxuICBnZXRQcm9kdWN0RGV0YWlsc1xyXG59OyJdLCJuYW1lcyI6WyJheGlvcyIsImNoZWVyaW8iLCJjYWxjdWxhdGVTdXN0YWluYWJpbGl0eVNjb3JlIiwicHJvZHVjdERhdGEiLCJzY29yZSIsInRpdGxlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInN1c3RhaW5hYmlsaXR5S2V5d29yZHMiLCJrZXl3b3JkIiwiZGVzY3JpcHRpb24iLCJNYXRoIiwibWluIiwic2VhcmNoUHJvZHVjdHMiLCJxdWVyeSIsInJlc3BvbnNlIiwiZ2V0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGVhZGVycyIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwiJCIsImxvYWQiLCJwcm9kdWN0cyIsImVhY2giLCJpIiwiZWwiLCJsaW5rRWxlbWVudCIsImZpbmQiLCJsZW5ndGgiLCJ1cmwiLCJhdHRyIiwiaWRNYXRjaCIsIm1hdGNoIiwiaWQiLCJ0ZXh0IiwidHJpbSIsInByaWNlVGV4dCIsInByaWNlIiwicGFyc2VGbG9hdCIsInJlcGxhY2UiLCJpbWFnZVVybCIsInB1c2giLCJzdXN0YWluYWJpbGl0eUxldmVsIiwiZXJyb3IiLCJnZXRQcm9kdWN0RGV0YWlscyIsInByb2R1Y3RJZCIsIkVycm9yIiwiY2xvbmUiLCJjaGlsZHJlbiIsInJlbW92ZSIsImVuZCIsImltYWdlcyIsInNyYyIsImZ1bGxTaXplVXJsIiwiZGVzY3JpcHRpb25JZnJhbWVTcmMiLCJkZXNjUmVzcG9uc2UiLCIkZGVzYyIsImUiLCJzcGVjcyIsImtleSIsInZhbHVlIiwibmV4dCIsImNvbmRpdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./src/services/ebayService.js\n");

/***/ }),

/***/ "(api-node)/./src/services/mockService.js":
/*!*************************************!*\
  !*** ./src/services/mockService.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// This mock service provides fallback results when scraping real e-commerce sites fails\n// It's useful for testing and development\nconst mockProducts = [\n    {\n        id: '714277',\n        title: 'Gundam Model Kit - RX-78-2',\n        price: 45.99,\n        imageUrl: 'https://m.media-amazon.com/images/I/71C8dzSZBZL._AC_UL320_.jpg',\n        description: 'Classic Gundam model kit with eco-friendly packaging',\n        sustainabilityLevel: 4,\n        url: 'https://example.com/product/mock1',\n        rating: 4.5\n    },\n    {\n        id: '839044',\n        title: 'Gundam Unicorn Destroy Mode',\n        price: 68.50,\n        imageUrl: 'https://m.media-amazon.com/images/I/71lLr9mYS6L._AC_UL320_.jpg',\n        description: 'Advanced model kit with detailed parts',\n        sustainabilityLevel: 3,\n        url: 'https://example.com/product/mock2',\n        rating: 4.3\n    },\n    {\n        id: '951382',\n        title: 'Gundam Wing Zero Custom',\n        price: 52.75,\n        imageUrl: 'https://m.media-amazon.com/images/I/81nj6IlZbWL._AC_UL320_.jpg',\n        description: 'Popular Wing Gundam model with wings and weapons',\n        sustainabilityLevel: 3,\n        url: 'https://example.com/product/mock3',\n        rating: 4.7\n    },\n    {\n        id: '247653',\n        title: 'Gundam Barbatos Lupus Rex',\n        price: 64.99,\n        imageUrl: 'https://m.media-amazon.com/images/I/61P1xYA4arL._AC_UL320_.jpg',\n        description: 'Iron-Blooded Orphans series, with recycled materials',\n        sustainabilityLevel: 5,\n        url: 'https://example.com/product/mock4',\n        rating: 4.8\n    },\n    {\n        id: '365819',\n        title: 'Gundam Exia Repair',\n        price: 39.99,\n        imageUrl: 'https://m.media-amazon.com/images/I/71ghC5pvGjL._AC_UL320_.jpg',\n        description: 'Popular 00 Gundam model with GN sword',\n        sustainabilityLevel: 2,\n        url: 'https://example.com/product/mock5',\n        rating: 4.2\n    },\n    // Bicycle products\n    {\n        id: 'b1001',\n        title: 'Bamboo Frame Bicycle',\n        price: 699.99,\n        imageUrl: 'https://m.media-amazon.com/images/I/71RDCpYR8EL._AC_SL1500_.jpg',\n        description: 'Eco-friendly bicycle with bamboo frame, handcrafted using sustainable materials',\n        sustainabilityLevel: 5,\n        url: 'https://example.com/bamboo-bicycle',\n        rating: 4.7\n    },\n    {\n        id: 'b1002',\n        title: 'Electric Commuter Bicycle',\n        price: 1299.99,\n        imageUrl: 'https://m.media-amazon.com/images/I/81CrFQZN-IL._AC_SL1500_.jpg',\n        description: 'Energy-efficient e-bike with recycled aluminum frame and solar charging capability',\n        sustainabilityLevel: 4,\n        url: 'https://example.com/electric-bicycle',\n        rating: 4.9\n    },\n    {\n        id: 'b1003',\n        title: 'Recycled Tire Urban Bike',\n        price: 549.50,\n        imageUrl: 'https://m.media-amazon.com/images/I/71HqQHb-CIL._AC_SL1500_.jpg',\n        description: 'City bike featuring tires made from recycled rubber and eco-friendly components',\n        sustainabilityLevel: 5,\n        url: 'https://example.com/recycled-bicycle',\n        rating: 4.5\n    }\n];\n// Filter mock products based on search query\nconst searchProducts = async (query)=>{\n    console.log(`Mock service searching for: ${query}`);\n    // If search query is empty, return all mock products\n    if (!query) return mockProducts;\n    // Filter products based on query\n    const lowerCaseQuery = query.toLowerCase();\n    const filteredProducts = mockProducts.filter((product)=>product.title.toLowerCase().includes(lowerCaseQuery) || product.description.toLowerCase().includes(lowerCaseQuery));\n    console.log(`Mock service found ${filteredProducts.length} products for query \"${query}\"`);\n    return filteredProducts;\n};\nconst getProductDetails = async (productId)=>{\n    const product = mockProducts.find((p)=>p.id === productId);\n    if (!product) {\n        throw new Error('Product not found');\n    }\n    return product;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    searchProducts,\n    getProductDetails\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3NyYy9zZXJ2aWNlcy9tb2NrU2VydmljZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsd0ZBQXdGO0FBQ3hGLDBDQUEwQztBQUUxQyxNQUFNQSxlQUFlO0lBQ25CO1FBQ0VDLElBQUk7UUFDSkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxxQkFBcUI7UUFDckJDLEtBQUs7UUFDTEMsUUFBUTtJQUNWO0lBQ0E7UUFDRVAsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLHFCQUFxQjtRQUNyQkMsS0FBSztRQUNMQyxRQUFRO0lBQ1Y7SUFDQTtRQUNFUCxJQUFJO1FBQ0pDLE9BQU87UUFDUEMsT0FBTztRQUNQQyxVQUFVO1FBQ1ZDLGFBQWE7UUFDYkMscUJBQXFCO1FBQ3JCQyxLQUFLO1FBQ0xDLFFBQVE7SUFDVjtJQUNBO1FBQ0VQLElBQUk7UUFDSkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxxQkFBcUI7UUFDckJDLEtBQUs7UUFDTEMsUUFBUTtJQUNWO0lBQ0E7UUFDRVAsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLHFCQUFxQjtRQUNyQkMsS0FBSztRQUNMQyxRQUFRO0lBQ1Y7SUFDQSxtQkFBbUI7SUFDbkI7UUFDRVAsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JDLHFCQUFxQjtRQUNyQkMsS0FBSztRQUNMQyxRQUFRO0lBQ1Y7SUFDQTtRQUNFUCxJQUFJO1FBQ0pDLE9BQU87UUFDUEMsT0FBTztRQUNQQyxVQUFVO1FBQ1ZDLGFBQWE7UUFDYkMscUJBQXFCO1FBQ3JCQyxLQUFLO1FBQ0xDLFFBQVE7SUFDVjtJQUNBO1FBQ0VQLElBQUk7UUFDSkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxxQkFBcUI7UUFDckJDLEtBQUs7UUFDTEMsUUFBUTtJQUNWO0NBQ0Q7QUFFRCw2Q0FBNkM7QUFDN0MsTUFBTUMsaUJBQWlCLE9BQU9DO0lBQzVCQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyw0QkFBNEIsRUFBRUYsT0FBTztJQUVsRCxxREFBcUQ7SUFDckQsSUFBSSxDQUFDQSxPQUFPLE9BQU9WO0lBRW5CLGlDQUFpQztJQUNqQyxNQUFNYSxpQkFBaUJILE1BQU1JLFdBQVc7SUFDeEMsTUFBTUMsbUJBQW1CZixhQUFhZ0IsTUFBTSxDQUFDQyxDQUFBQSxVQUMzQ0EsUUFBUWYsS0FBSyxDQUFDWSxXQUFXLEdBQUdJLFFBQVEsQ0FBQ0wsbUJBQ3JDSSxRQUFRWixXQUFXLENBQUNTLFdBQVcsR0FBR0ksUUFBUSxDQUFDTDtJQUc3Q0YsUUFBUUMsR0FBRyxDQUFDLENBQUMsbUJBQW1CLEVBQUVHLGlCQUFpQkksTUFBTSxDQUFDLHFCQUFxQixFQUFFVCxNQUFNLENBQUMsQ0FBQztJQUN6RixPQUFPSztBQUNUO0FBRUEsTUFBTUssb0JBQW9CLE9BQU9DO0lBQy9CLE1BQU1KLFVBQVVqQixhQUFhc0IsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFdEIsRUFBRSxLQUFLb0I7SUFDaEQsSUFBSSxDQUFDSixTQUFTO1FBQ1osTUFBTSxJQUFJTyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT1A7QUFDVDtBQUVBLGlFQUFlO0lBQ2JSO0lBQ0FXO0FBQ0YsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGFkbWluXFxIYWNrYWJ1bGxXZWJcXGJhY2tlbmRcXHNyY1xcc2VydmljZXNcXG1vY2tTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgbW9jayBzZXJ2aWNlIHByb3ZpZGVzIGZhbGxiYWNrIHJlc3VsdHMgd2hlbiBzY3JhcGluZyByZWFsIGUtY29tbWVyY2Ugc2l0ZXMgZmFpbHNcclxuLy8gSXQncyB1c2VmdWwgZm9yIHRlc3RpbmcgYW5kIGRldmVsb3BtZW50XHJcblxyXG5jb25zdCBtb2NrUHJvZHVjdHMgPSBbXHJcbiAge1xyXG4gICAgaWQ6ICc3MTQyNzcnLFxyXG4gICAgdGl0bGU6ICdHdW5kYW0gTW9kZWwgS2l0IC0gUlgtNzgtMicsXHJcbiAgICBwcmljZTogNDUuOTksXHJcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vbS5tZWRpYS1hbWF6b24uY29tL2ltYWdlcy9JLzcxQzhkelNaQlpMLl9BQ19VTDMyMF8uanBnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQ2xhc3NpYyBHdW5kYW0gbW9kZWwga2l0IHdpdGggZWNvLWZyaWVuZGx5IHBhY2thZ2luZycsXHJcbiAgICBzdXN0YWluYWJpbGl0eUxldmVsOiA0LFxyXG4gICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9wcm9kdWN0L21vY2sxJyxcclxuICAgIHJhdGluZzogNC41XHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJzgzOTA0NCcsXHJcbiAgICB0aXRsZTogJ0d1bmRhbSBVbmljb3JuIERlc3Ryb3kgTW9kZScsXHJcbiAgICBwcmljZTogNjguNTAsXHJcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vbS5tZWRpYS1hbWF6b24uY29tL2ltYWdlcy9JLzcxbExyOW1ZUzZMLl9BQ19VTDMyMF8uanBnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQWR2YW5jZWQgbW9kZWwga2l0IHdpdGggZGV0YWlsZWQgcGFydHMnLFxyXG4gICAgc3VzdGFpbmFiaWxpdHlMZXZlbDogMyxcclxuICAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vcHJvZHVjdC9tb2NrMicsXHJcbiAgICByYXRpbmc6IDQuM1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICc5NTEzODInLFxyXG4gICAgdGl0bGU6ICdHdW5kYW0gV2luZyBaZXJvIEN1c3RvbScsXHJcbiAgICBwcmljZTogNTIuNzUsXHJcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vbS5tZWRpYS1hbWF6b24uY29tL2ltYWdlcy9JLzgxbmo2SWxaYldMLl9BQ19VTDMyMF8uanBnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnUG9wdWxhciBXaW5nIEd1bmRhbSBtb2RlbCB3aXRoIHdpbmdzIGFuZCB3ZWFwb25zJyxcclxuICAgIHN1c3RhaW5hYmlsaXR5TGV2ZWw6IDMsXHJcbiAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL3Byb2R1Y3QvbW9jazMnLFxyXG4gICAgcmF0aW5nOiA0LjdcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnMjQ3NjUzJyxcclxuICAgIHRpdGxlOiAnR3VuZGFtIEJhcmJhdG9zIEx1cHVzIFJleCcsXHJcbiAgICBwcmljZTogNjQuOTksXHJcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vbS5tZWRpYS1hbWF6b24uY29tL2ltYWdlcy9JLzYxUDF4WUE0YXJMLl9BQ19VTDMyMF8uanBnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnSXJvbi1CbG9vZGVkIE9ycGhhbnMgc2VyaWVzLCB3aXRoIHJlY3ljbGVkIG1hdGVyaWFscycsXHJcbiAgICBzdXN0YWluYWJpbGl0eUxldmVsOiA1LFxyXG4gICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9wcm9kdWN0L21vY2s0JyxcclxuICAgIHJhdGluZzogNC44XHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJzM2NTgxOScsXHJcbiAgICB0aXRsZTogJ0d1bmRhbSBFeGlhIFJlcGFpcicsXHJcbiAgICBwcmljZTogMzkuOTksXHJcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vbS5tZWRpYS1hbWF6b24uY29tL2ltYWdlcy9JLzcxZ2hDNXB2R2pMLl9BQ19VTDMyMF8uanBnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnUG9wdWxhciAwMCBHdW5kYW0gbW9kZWwgd2l0aCBHTiBzd29yZCcsXHJcbiAgICBzdXN0YWluYWJpbGl0eUxldmVsOiAyLFxyXG4gICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9wcm9kdWN0L21vY2s1JyxcclxuICAgIHJhdGluZzogNC4yXHJcbiAgfSxcclxuICAvLyBCaWN5Y2xlIHByb2R1Y3RzXHJcbiAge1xyXG4gICAgaWQ6ICdiMTAwMScsXHJcbiAgICB0aXRsZTogJ0JhbWJvbyBGcmFtZSBCaWN5Y2xlJyxcclxuICAgIHByaWNlOiA2OTkuOTksXHJcbiAgICBpbWFnZVVybDogJ2h0dHBzOi8vbS5tZWRpYS1hbWF6b24uY29tL2ltYWdlcy9JLzcxUkRDcFlSOEVMLl9BQ19TTDE1MDBfLmpwZycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0Vjby1mcmllbmRseSBiaWN5Y2xlIHdpdGggYmFtYm9vIGZyYW1lLCBoYW5kY3JhZnRlZCB1c2luZyBzdXN0YWluYWJsZSBtYXRlcmlhbHMnLFxyXG4gICAgc3VzdGFpbmFiaWxpdHlMZXZlbDogNSxcclxuICAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vYmFtYm9vLWJpY3ljbGUnLFxyXG4gICAgcmF0aW5nOiA0LjdcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnYjEwMDInLFxyXG4gICAgdGl0bGU6ICdFbGVjdHJpYyBDb21tdXRlciBCaWN5Y2xlJyxcclxuICAgIHByaWNlOiAxMjk5Ljk5LFxyXG4gICAgaW1hZ2VVcmw6ICdodHRwczovL20ubWVkaWEtYW1hem9uLmNvbS9pbWFnZXMvSS84MUNyRlFaTi1JTC5fQUNfU0wxNTAwXy5qcGcnLFxyXG4gICAgZGVzY3JpcHRpb246ICdFbmVyZ3ktZWZmaWNpZW50IGUtYmlrZSB3aXRoIHJlY3ljbGVkIGFsdW1pbnVtIGZyYW1lIGFuZCBzb2xhciBjaGFyZ2luZyBjYXBhYmlsaXR5JyxcclxuICAgIHN1c3RhaW5hYmlsaXR5TGV2ZWw6IDQsXHJcbiAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tL2VsZWN0cmljLWJpY3ljbGUnLFxyXG4gICAgcmF0aW5nOiA0LjlcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnYjEwMDMnLFxyXG4gICAgdGl0bGU6ICdSZWN5Y2xlZCBUaXJlIFVyYmFuIEJpa2UnLFxyXG4gICAgcHJpY2U6IDU0OS41MCxcclxuICAgIGltYWdlVXJsOiAnaHR0cHM6Ly9tLm1lZGlhLWFtYXpvbi5jb20vaW1hZ2VzL0kvNzFIcVFIYi1DSUwuX0FDX1NMMTUwMF8uanBnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQ2l0eSBiaWtlIGZlYXR1cmluZyB0aXJlcyBtYWRlIGZyb20gcmVjeWNsZWQgcnViYmVyIGFuZCBlY28tZnJpZW5kbHkgY29tcG9uZW50cycsXHJcbiAgICBzdXN0YWluYWJpbGl0eUxldmVsOiA1LFxyXG4gICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9yZWN5Y2xlZC1iaWN5Y2xlJyxcclxuICAgIHJhdGluZzogNC41XHJcbiAgfVxyXG5dO1xyXG5cclxuLy8gRmlsdGVyIG1vY2sgcHJvZHVjdHMgYmFzZWQgb24gc2VhcmNoIHF1ZXJ5XHJcbmNvbnN0IHNlYXJjaFByb2R1Y3RzID0gYXN5bmMgKHF1ZXJ5KSA9PiB7XHJcbiAgY29uc29sZS5sb2coYE1vY2sgc2VydmljZSBzZWFyY2hpbmcgZm9yOiAke3F1ZXJ5fWApO1xyXG5cclxuICAvLyBJZiBzZWFyY2ggcXVlcnkgaXMgZW1wdHksIHJldHVybiBhbGwgbW9jayBwcm9kdWN0c1xyXG4gIGlmICghcXVlcnkpIHJldHVybiBtb2NrUHJvZHVjdHM7XHJcblxyXG4gIC8vIEZpbHRlciBwcm9kdWN0cyBiYXNlZCBvbiBxdWVyeVxyXG4gIGNvbnN0IGxvd2VyQ2FzZVF1ZXJ5ID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcclxuICBjb25zdCBmaWx0ZXJlZFByb2R1Y3RzID0gbW9ja1Byb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+IFxyXG4gICAgcHJvZHVjdC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxvd2VyQ2FzZVF1ZXJ5KSB8fCBcclxuICAgIHByb2R1Y3QuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlckNhc2VRdWVyeSlcclxuICApO1xyXG5cclxuICBjb25zb2xlLmxvZyhgTW9jayBzZXJ2aWNlIGZvdW5kICR7ZmlsdGVyZWRQcm9kdWN0cy5sZW5ndGh9IHByb2R1Y3RzIGZvciBxdWVyeSBcIiR7cXVlcnl9XCJgKTtcclxuICByZXR1cm4gZmlsdGVyZWRQcm9kdWN0cztcclxufTtcclxuXHJcbmNvbnN0IGdldFByb2R1Y3REZXRhaWxzID0gYXN5bmMgKHByb2R1Y3RJZCkgPT4ge1xyXG4gIGNvbnN0IHByb2R1Y3QgPSBtb2NrUHJvZHVjdHMuZmluZChwID0+IHAuaWQgPT09IHByb2R1Y3RJZCk7XHJcbiAgaWYgKCFwcm9kdWN0KSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2R1Y3Qgbm90IGZvdW5kJyk7XHJcbiAgfVxyXG4gIHJldHVybiBwcm9kdWN0O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIHNlYXJjaFByb2R1Y3RzLFxyXG4gIGdldFByb2R1Y3REZXRhaWxzXHJcbn07ICJdLCJuYW1lcyI6WyJtb2NrUHJvZHVjdHMiLCJpZCIsInRpdGxlIiwicHJpY2UiLCJpbWFnZVVybCIsImRlc2NyaXB0aW9uIiwic3VzdGFpbmFiaWxpdHlMZXZlbCIsInVybCIsInJhdGluZyIsInNlYXJjaFByb2R1Y3RzIiwicXVlcnkiLCJjb25zb2xlIiwibG9nIiwibG93ZXJDYXNlUXVlcnkiLCJ0b0xvd2VyQ2FzZSIsImZpbHRlcmVkUHJvZHVjdHMiLCJmaWx0ZXIiLCJwcm9kdWN0IiwiaW5jbHVkZXMiLCJsZW5ndGgiLCJnZXRQcm9kdWN0RGV0YWlscyIsInByb2R1Y3RJZCIsImZpbmQiLCJwIiwiRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./src/services/mockService.js\n");

/***/ }),

/***/ "(api-node)/./src/services/walmartService.js":
/*!****************************************!*\
  !*** ./src/services/walmartService.js ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cheerio */ \"cheerio\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__]);\n([axios__WEBPACK_IMPORTED_MODULE_0__, cheerio__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Helper function to calculate sustainability score\nconst calculateSustainabilityScore = (productData)=>{\n    // This would be more complex in a real application\n    let score = 2; // Default score - Walmart has some sustainability initiatives but generally scores lower\n    // Example logic - check for keywords in the title or description\n    const sustainabilityKeywords = [\n        'eco',\n        'sustainable',\n        'organic',\n        'recycled',\n        'green'\n    ];\n    for (const keyword of sustainabilityKeywords){\n        if (productData.title.toLowerCase().includes(keyword) || productData.description && productData.description.toLowerCase().includes(keyword)) {\n            score += 1;\n        }\n    }\n    return Math.min(5, score); // Cap at 5\n};\nconst searchProducts = async (query)=>{\n    try {\n        // Note: In a production environment, you would need to use official APIs instead of scraping\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.walmart.com/search?q=${encodeURIComponent(query)}`, {\n            headers: {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n            },\n            // Lower max header size to prevent Header overflow errors\n            maxHeadersLength: 8192,\n            // Set timeout to prevent long waits\n            timeout: 8000\n        });\n        // Check if response data exists before parsing\n        if (!response || !response.data) {\n            console.log(\"No data received from Walmart\");\n            return [];\n        }\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const products = [];\n        // This selector would need to be updated based on Walmart's current HTML structure\n        $('[data-item-id]').each((i, el)=>{\n            const id = $(el).attr('data-item-id');\n            if (!id) return;\n            const title = $(el).find('[data-automation-id=\"product-title\"]').text().trim();\n            const priceText = $(el).find('[data-automation-id=\"product-price\"]').text().trim();\n            const price = priceText ? parseFloat(priceText.replace(/[^0-9.]/g, '')) : null;\n            const imageUrl = $(el).find('img').attr('src');\n            const url = 'https://www.walmart.com/ip/' + id;\n            if (title && price) {\n                const productData = {\n                    id,\n                    title,\n                    price,\n                    imageUrl,\n                    url\n                };\n                products.push({\n                    ...productData,\n                    sustainabilityLevel: calculateSustainabilityScore(productData)\n                });\n            }\n        });\n        return products;\n    } catch (error) {\n        console.error('Error searching Walmart products:', error);\n        return [];\n    }\n};\nconst getProductDetails = async (productId)=>{\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`https://www.walmart.com/ip/${productId}`, {\n            headers: {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n            },\n            // Lower max header size to prevent Header overflow errors\n            maxHeadersLength: 8192,\n            // Set timeout to prevent long waits\n            timeout: 8000\n        });\n        // Check if response data exists before parsing\n        if (!response || !response.data) {\n            console.log(\"No data received from Walmart product details\");\n            throw new Error(\"Failed to load product data from Walmart\");\n        }\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const title = $('[data-automation-id=\"product-title\"]').text().trim();\n        const priceText = $('[data-automation-id=\"product-price\"]').text().trim();\n        const price = priceText ? parseFloat(priceText.replace(/[^0-9.]/g, '')) : null;\n        // Get multiple images\n        const images = [];\n        $('[data-automation-id=\"image-gallery\"] img').each((i, el)=>{\n            const src = $(el).attr('src');\n            if (src) {\n                images.push(src);\n            }\n        });\n        // Extract description\n        const description = $('[data-automation-id=\"product-description\"]').text().trim();\n        // Extract specifications\n        const specs = {};\n        $('[data-automation-id=\"product-specifications\"] tr').each((i, el)=>{\n            const key = $(el).find('th').text().trim();\n            const value = $(el).find('td').text().trim();\n            if (key && value) {\n                specs[key] = value;\n            }\n        });\n        const productData = {\n            id: productId,\n            title,\n            price,\n            images: images.length > 0 ? images : [\n                $('[data-automation-id=\"image-gallery\"] img').first().attr('src')\n            ],\n            description,\n            specs,\n            url: `https://www.walmart.com/ip/${productId}`\n        };\n        return {\n            ...productData,\n            sustainabilityLevel: calculateSustainabilityScore(productData)\n        };\n    } catch (error) {\n        console.error('Error getting Walmart product details:', error);\n        throw error;\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    searchProducts,\n    getProductDetails\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3NyYy9zZXJ2aWNlcy93YWxtYXJ0U2VydmljZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFDUztBQUVuQyxvREFBb0Q7QUFDcEQsTUFBTUUsK0JBQStCLENBQUNDO0lBQ3BDLG1EQUFtRDtJQUNuRCxJQUFJQyxRQUFRLEdBQUcseUZBQXlGO0lBRXhHLGlFQUFpRTtJQUNqRSxNQUFNQyx5QkFBeUI7UUFBQztRQUFPO1FBQWU7UUFBVztRQUFZO0tBQVE7SUFDckYsS0FBSyxNQUFNQyxXQUFXRCx1QkFBd0I7UUFDNUMsSUFBSUYsWUFBWUksS0FBSyxDQUFDQyxXQUFXLEdBQUdDLFFBQVEsQ0FBQ0gsWUFDeENILFlBQVlPLFdBQVcsSUFBSVAsWUFBWU8sV0FBVyxDQUFDRixXQUFXLEdBQUdDLFFBQVEsQ0FBQ0gsVUFBVztZQUN4RkYsU0FBUztRQUNYO0lBQ0Y7SUFFQSxPQUFPTyxLQUFLQyxHQUFHLENBQUMsR0FBR1IsUUFBUSxXQUFXO0FBQ3hDO0FBRUEsTUFBTVMsaUJBQWlCLE9BQU9DO0lBQzVCLElBQUk7UUFDRiw2RkFBNkY7UUFDN0YsTUFBTUMsV0FBVyxNQUFNZixpREFBUyxDQUFDLENBQUMsaUNBQWlDLEVBQUVpQixtQkFBbUJILFFBQVEsRUFBRTtZQUNoR0ksU0FBUztnQkFDUCxjQUFjO1lBQ2hCO1lBQ0EsMERBQTBEO1lBQzFEQyxrQkFBa0I7WUFDbEIsb0NBQW9DO1lBQ3BDQyxTQUFTO1FBQ1g7UUFFQSwrQ0FBK0M7UUFDL0MsSUFBSSxDQUFDTCxZQUFZLENBQUNBLFNBQVNNLElBQUksRUFBRTtZQUMvQkMsUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBTyxFQUFFO1FBQ1g7UUFFQSxNQUFNQyxJQUFJdkIseUNBQVksQ0FBQ2MsU0FBU00sSUFBSTtRQUNwQyxNQUFNSyxXQUFXLEVBQUU7UUFFbkIsbUZBQW1GO1FBQ25GRixFQUFFLGtCQUFrQkcsSUFBSSxDQUFDLENBQUNDLEdBQUdDO1lBQzNCLE1BQU1DLEtBQUtOLEVB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RDtJQUNGLEVBQUUsT0FBT3dDLE9BQU87UUFDZHJCLFFBQVFxQixLQUFLLENBQUMsMENBQTBDQTtRQUN4RCxNQUFNQTtJQUNSO0FBQ0Y7QUFFQSxpRUFBZTtJQUNiOUI7SUFDQStCO0FBQ0YsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGFkbWluXFxIYWNrYWJ1bGxXZWJcXGJhY2tlbmRcXHNyY1xcc2VydmljZXNcXHdhbG1hcnRTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCAqIGFzIGNoZWVyaW8gZnJvbSAnY2hlZXJpbyc7XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIHN1c3RhaW5hYmlsaXR5IHNjb3JlXHJcbmNvbnN0IGNhbGN1bGF0ZVN1c3RhaW5hYmlsaXR5U2NvcmUgPSAocHJvZHVjdERhdGEpID0+IHtcclxuICAvLyBUaGlzIHdvdWxkIGJlIG1vcmUgY29tcGxleCBpbiBhIHJlYWwgYXBwbGljYXRpb25cclxuICBsZXQgc2NvcmUgPSAyOyAvLyBEZWZhdWx0IHNjb3JlIC0gV2FsbWFydCBoYXMgc29tZSBzdXN0YWluYWJpbGl0eSBpbml0aWF0aXZlcyBidXQgZ2VuZXJhbGx5IHNjb3JlcyBsb3dlclxyXG4gIFxyXG4gIC8vIEV4YW1wbGUgbG9naWMgLSBjaGVjayBmb3Iga2V5d29yZHMgaW4gdGhlIHRpdGxlIG9yIGRlc2NyaXB0aW9uXHJcbiAgY29uc3Qgc3VzdGFpbmFiaWxpdHlLZXl3b3JkcyA9IFsnZWNvJywgJ3N1c3RhaW5hYmxlJywgJ29yZ2FuaWMnLCAncmVjeWNsZWQnLCAnZ3JlZW4nXTtcclxuICBmb3IgKGNvbnN0IGtleXdvcmQgb2Ygc3VzdGFpbmFiaWxpdHlLZXl3b3Jkcykge1xyXG4gICAgaWYgKHByb2R1Y3REYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa2V5d29yZCkgfHwgXHJcbiAgICAgICAgKHByb2R1Y3REYXRhLmRlc2NyaXB0aW9uICYmIHByb2R1Y3REYXRhLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoa2V5d29yZCkpKSB7XHJcbiAgICAgIHNjb3JlICs9IDE7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBNYXRoLm1pbig1LCBzY29yZSk7IC8vIENhcCBhdCA1XHJcbn07XHJcblxyXG5jb25zdCBzZWFyY2hQcm9kdWN0cyA9IGFzeW5jIChxdWVyeSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBOb3RlOiBJbiBhIHByb2R1Y3Rpb24gZW52aXJvbm1lbnQsIHlvdSB3b3VsZCBuZWVkIHRvIHVzZSBvZmZpY2lhbCBBUElzIGluc3RlYWQgb2Ygc2NyYXBpbmdcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL3d3dy53YWxtYXJ0LmNvbS9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzkxLjAuNDQ3Mi4xMjQgU2FmYXJpLzUzNy4zNidcclxuICAgICAgfSxcclxuICAgICAgLy8gTG93ZXIgbWF4IGhlYWRlciBzaXplIHRvIHByZXZlbnQgSGVhZGVyIG92ZXJmbG93IGVycm9yc1xyXG4gICAgICBtYXhIZWFkZXJzTGVuZ3RoOiA4MTkyLFxyXG4gICAgICAvLyBTZXQgdGltZW91dCB0byBwcmV2ZW50IGxvbmcgd2FpdHNcclxuICAgICAgdGltZW91dDogODAwMFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIHJlc3BvbnNlIGRhdGEgZXhpc3RzIGJlZm9yZSBwYXJzaW5nXHJcbiAgICBpZiAoIXJlc3BvbnNlIHx8ICFyZXNwb25zZS5kYXRhKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gZGF0YSByZWNlaXZlZCBmcm9tIFdhbG1hcnRcIik7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXNwb25zZS5kYXRhKTtcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gW107XHJcbiAgICBcclxuICAgIC8vIFRoaXMgc2VsZWN0b3Igd291bGQgbmVlZCB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIFdhbG1hcnQncyBjdXJyZW50IEhUTUwgc3RydWN0dXJlXHJcbiAgICAkKCdbZGF0YS1pdGVtLWlkXScpLmVhY2goKGksIGVsKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlkID0gJChlbCkuYXR0cignZGF0YS1pdGVtLWlkJyk7XHJcbiAgICAgIGlmICghaWQpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHRpdGxlID0gJChlbCkuZmluZCgnW2RhdGEtYXV0b21hdGlvbi1pZD1cInByb2R1Y3QtdGl0bGVcIl0nKS50ZXh0KCkudHJpbSgpO1xyXG4gICAgICBjb25zdCBwcmljZVRleHQgPSAkKGVsKS5maW5kKCdbZGF0YS1hdXRvbWF0aW9uLWlkPVwicHJvZHVjdC1wcmljZVwiXScpLnRleHQoKS50cmltKCk7XHJcbiAgICAgIGNvbnN0IHByaWNlID0gcHJpY2VUZXh0ID8gcGFyc2VGbG9hdChwcmljZVRleHQucmVwbGFjZSgvW14wLTkuXS9nLCAnJykpIDogbnVsbDtcclxuICAgICAgY29uc3QgaW1hZ2VVcmwgPSAkKGVsKS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnKTtcclxuICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vd3d3LndhbG1hcnQuY29tL2lwLycgKyBpZDtcclxuICAgICAgXHJcbiAgICAgIGlmICh0aXRsZSAmJiBwcmljZSkge1xyXG4gICAgICAgIGNvbnN0IHByb2R1Y3REYXRhID0geyBpZCwgdGl0bGUsIHByaWNlLCBpbWFnZVVybCwgdXJsIH07XHJcbiAgICAgICAgcHJvZHVjdHMucHVzaCh7XHJcbiAgICAgICAgICAuLi5wcm9kdWN0RGF0YSxcclxuICAgICAgICAgIHN1c3RhaW5hYmlsaXR5TGV2ZWw6IGNhbGN1bGF0ZVN1c3RhaW5hYmlsaXR5U2NvcmUocHJvZHVjdERhdGEpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4gcHJvZHVjdHM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlYXJjaGluZyBXYWxtYXJ0IHByb2R1Y3RzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBnZXRQcm9kdWN0RGV0YWlscyA9IGFzeW5jIChwcm9kdWN0SWQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vd3d3LndhbG1hcnQuY29tL2lwLyR7cHJvZHVjdElkfWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MS4wLjQ0NzIuMTI0IFNhZmFyaS81MzcuMzYnXHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIExvd2VyIG1heCBoZWFkZXIgc2l6ZSB0byBwcmV2ZW50IEhlYWRlciBvdmVyZmxvdyBlcnJvcnNcclxuICAgICAgbWF4SGVhZGVyc0xlbmd0aDogODE5MixcclxuICAgICAgLy8gU2V0IHRpbWVvdXQgdG8gcHJldmVudCBsb25nIHdhaXRzXHJcbiAgICAgIHRpbWVvdXQ6IDgwMDBcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiByZXNwb25zZSBkYXRhIGV4aXN0cyBiZWZvcmUgcGFyc2luZ1xyXG4gICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2UuZGF0YSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk5vIGRhdGEgcmVjZWl2ZWQgZnJvbSBXYWxtYXJ0IHByb2R1Y3QgZGV0YWlsc1wiKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgcHJvZHVjdCBkYXRhIGZyb20gV2FsbWFydFwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXNwb25zZS5kYXRhKTtcclxuICAgIFxyXG4gICAgY29uc3QgdGl0bGUgPSAkKCdbZGF0YS1hdXRvbWF0aW9uLWlkPVwicHJvZHVjdC10aXRsZVwiXScpLnRleHQoKS50cmltKCk7XHJcbiAgICBjb25zdCBwcmljZVRleHQgPSAkKCdbZGF0YS1hdXRvbWF0aW9uLWlkPVwicHJvZHVjdC1wcmljZVwiXScpLnRleHQoKS50cmltKCk7XHJcbiAgICBjb25zdCBwcmljZSA9IHByaWNlVGV4dCA/IHBhcnNlRmxvYXQocHJpY2VUZXh0LnJlcGxhY2UoL1teMC05Ll0vZywgJycpKSA6IG51bGw7XHJcbiAgICBcclxuICAgIC8vIEdldCBtdWx0aXBsZSBpbWFnZXNcclxuICAgIGNvbnN0IGltYWdlcyA9IFtdO1xyXG4gICAgJCgnW2RhdGEtYXV0b21hdGlvbi1pZD1cImltYWdlLWdhbGxlcnlcIl0gaW1nJykuZWFjaCgoaSwgZWwpID0+IHtcclxuICAgICAgY29uc3Qgc3JjID0gJChlbCkuYXR0cignc3JjJyk7XHJcbiAgICAgIGlmIChzcmMpIHtcclxuICAgICAgICBpbWFnZXMucHVzaChzcmMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gRXh0cmFjdCBkZXNjcmlwdGlvblxyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSAkKCdbZGF0YS1hdXRvbWF0aW9uLWlkPVwicHJvZHVjdC1kZXNjcmlwdGlvblwiXScpLnRleHQoKS50cmltKCk7XHJcbiAgICBcclxuICAgIC8vIEV4dHJhY3Qgc3BlY2lmaWNhdGlvbnNcclxuICAgIGNvbnN0IHNwZWNzID0ge307XHJcbiAgICAkKCdbZGF0YS1hdXRvbWF0aW9uLWlkPVwicHJvZHVjdC1zcGVjaWZpY2F0aW9uc1wiXSB0cicpLmVhY2goKGksIGVsKSA9PiB7XHJcbiAgICAgIGNvbnN0IGtleSA9ICQoZWwpLmZpbmQoJ3RoJykudGV4dCgpLnRyaW0oKTtcclxuICAgICAgY29uc3QgdmFsdWUgPSAkKGVsKS5maW5kKCd0ZCcpLnRleHQoKS50cmltKCk7XHJcbiAgICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcclxuICAgICAgICBzcGVjc1trZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zdCBwcm9kdWN0RGF0YSA9IHtcclxuICAgICAgaWQ6IHByb2R1Y3RJZCxcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIHByaWNlLFxyXG4gICAgICBpbWFnZXM6IGltYWdlcy5sZW5ndGggPiAwID8gaW1hZ2VzIDogWyQoJ1tkYXRhLWF1dG9tYXRpb24taWQ9XCJpbWFnZS1nYWxsZXJ5XCJdIGltZycpLmZpcnN0KCkuYXR0cignc3JjJyldLFxyXG4gICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgc3BlY3MsXHJcbiAgICAgIHVybDogYGh0dHBzOi8vd3d3LndhbG1hcnQuY29tL2lwLyR7cHJvZHVjdElkfWBcclxuICAgIH07XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnByb2R1Y3REYXRhLFxyXG4gICAgICBzdXN0YWluYWJpbGl0eUxldmVsOiBjYWxjdWxhdGVTdXN0YWluYWJpbGl0eVNjb3JlKHByb2R1Y3REYXRhKVxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBXYWxtYXJ0IHByb2R1Y3QgZGV0YWlsczonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgc2VhcmNoUHJvZHVjdHMsXHJcbiAgZ2V0UHJvZHVjdERldGFpbHNcclxufTsiXSwibmFtZXMiOlsiYXhpb3MiLCJjaGVlcmlvIiwiY2FsY3VsYXRlU3VzdGFpbmFiaWxpdHlTY29yZSIsInByb2R1Y3REYXRhIiwic2NvcmUiLCJzdXN0YWluYWJpbGl0eUtleXdvcmRzIiwia2V5d29yZCIsInRpdGxlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImRlc2NyaXB0aW9uIiwiTWF0aCIsIm1pbiIsInNlYXJjaFByb2R1Y3RzIiwicXVlcnkiLCJyZXNwb25zZSIsImdldCIsImVuY29kZVVSSUNvbXBvbmVudCIsImhlYWRlcnMiLCJtYXhIZWFkZXJzTGVuZ3RoIiwidGltZW91dCIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwiJCIsImxvYWQiLCJwcm9kdWN0cyIsImVhY2giLCJpIiwiZWwiLCJpZCIsImF0dHIiLCJmaW5kIiwidGV4dCIsInRyaW0iLCJwcmljZVRleHQiLCJwcmljZSIsInBhcnNlRmxvYXQiLCJyZXBsYWNlIiwiaW1hZ2VVcmwiLCJ1cmwiLCJwdXNoIiwic3VzdGFpbmFiaWxpdHlMZXZlbCIsImVycm9yIiwiZ2V0UHJvZHVjdERldGFpbHMiLCJwcm9kdWN0SWQiLCJFcnJvciIsImltYWdlcyIsInNyYyIsInNwZWNzIiwia2V5IiwidmFsdWUiLCJsZW5ndGgiLCJmaXJzdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./src/services/walmartService.js\n");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "cheerio":
/*!**************************!*\
  !*** external "cheerio" ***!
  \**************************/
/***/ ((module) => {

module.exports = import("cheerio");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fproducts%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cproducts%5Csearch.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();